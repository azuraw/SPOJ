<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title>Delightful Puzzles</title>
<meta name="generator" content="WordPress 3.2.1"/> <!-- leave this for stats -->
<link rel="stylesheet" type="text/css" media="screen" href="http://gurmeet.net/wp-content/themes,_simpla_widgetized,_style.css,q1313542594+plugins,_fancybox-for-wordpress,_css,_fancybox.css.pagespeed.cc.M9OAznYvrO.css"/>
<link rel="alternate" type="application/rss+xml" title=" RSS Feed" href="http://gurmeet.net/feed/"/>
<link rel="pingback" href="http://gurmeet.net/xmlrpc.php"/>
<link rel="alternate" type="application/rss+xml" title=" &raquo; Delightful Puzzles Comments Feed" href="http://gurmeet.net/puzzles/feed/"/>
<style type="text/css">
		div#fancy_inner {border-color:#BBBBBB}
		div#fancy_close {left:-15px;top:-12px}
		div#fancy_bg {background-color:#FFFFFF}
			</style>
<link rel='stylesheet' id='tubepress-css' href='http://gurmeet.net/wp-content/plugins/tubepress/sys/ui/themes/default/style.css?ver=3.2.1' type='text/css' media='all'/>
<link rel='stylesheet' id='shashin_css-css' href='http://gurmeet.net/wp-content/plugins/shashin/display/shashin.css?ver=2.6.3' type='text/css' media='all'/>
<link rel='stylesheet' id='highslide_css-css' href='http://gurmeet.net/wp-content/plugins/shashin/display/highslide.css?ver=4.1.4' type='text/css' media='all'/>
<link rel='stylesheet' id='lightboxStyle-css' href='http://gurmeet.net/wp-content/plugins/lightbox-plus/css/black/colorbox.css?ver=2.0.2' type='text/css' media='screen'/>
<style>/**
 *
 * Styling for display Yelp business profiles
 *
 */
.yelp-business {
    font-family: Arial,'Lucida Grande','Bitstream Vera Sans',Verdana,sans-serif;
    overflow: hidden;
    width: 200px;
    padding: 10px;
    margin: 0 10px 10px;
    background-color: #fefefe;
    background-position: 10px 10px;
    background-repeat: no-repeat;
    border: 1px solid #aaa;
    border-radius: 4px;
    -moz-border-radius: 4px;
    -webkit-border-radius: 4px;
    box-shadow: 2px 2px 3px rgba(0,0,0,0.17);
    -moz-box-shadow: 2px 2px 3px rgba(0,0,0,0.17);
    -webkit-box-shadow: 2px 2px 3px rgba(0,0,0,0.17);
}

    .yelp-business.left {
        float: left;
        width: auto;
        margin: 0 10px 10px 0;
    }

    .yelp-business.right {
        float: right;
        width: auto;
    }

    .yelp-business.center {
        margin: 0 auto 10px;
    }

.yelp-business * {
    vertical-align: middle;
}

/* This is to override common general theme styling for images, you can easily override these as well */
.yelp-business img {
    padding: 0;
    margin: 0;
    border: none;
    background: transparent none;
}

.yelp-business .picture {
    display: block;
    float: left;
    width: 60px;
    height: 60px;
    padding-right: 10px;
}

.yelp-business .info {
    float: left;
}

.yelp-business a.name {
    display: block;
    font-size: 16px;
    line-height: 1;
    font-weight: 600;
    margin: 0 0 10px;
    color: #C41200;
    text-decoration: none;
    height:100%; /* added by gurmeet to make entire div clickable */
    width:100%; /* added by gurmeet to make entire div clickable */
}

    .yelp-business a.name:hover {
        text-decoration: underline;
    }

.yelp-business .review-count {
    color: #999;
    font-size: 11px;
    line-height: 1;
    margin-left: 10px;
}

.yelp-business img {
    margin-right:10px;
}
.yelp-business .yelp-branding img {
    display: block;
}
</style>
<script type='text/javascript'>//<![CDATA[
function convertEntities(b){var d,a;d=function(c){if(/&[^;]+;/.test(c)){var f=document.createElement("div");f.innerHTML=c;return !f.firstChild?c:f.firstChild.nodeValue}return c};if(typeof b==="string"){return d(b)}else{if(typeof b==="object"){for(a in b){if(typeof b[a]==="string"){b[a]=d(b[a])}}}}return b};
//]]></script>
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js'></script>
<script type='text/javascript'>try{jQuery.noConflict();}catch(e){};</script>
<script type='text/javascript' src='http://gurmeet.net/wp-content/plugins/tubepress/sys/ui/static/js/tubepress.js,qver=3.2.1.pagespeed.ce.CqjYwLEyPV.js'></script>
<script type='text/javascript' src='http://gurmeet.net/wp-content/plugins/shashin/display/highslide/highslide.js,qver=4.1.4.pagespeed.ce.ZgPrj8SocG.js'></script>
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var highslide_settings = {
	graphics_dir: "http://gurmeet.net/wp-content/plugins/shashin/display/highslide/graphics/",
	outline_type: "glossy-dark",
	dimming_opacity: "0.90",
	interval: "3000",
	repeat: "1",
	position: "top center",
	hide_controller: "0"
};
/* ]]> */
</script>
<script type='text/javascript'>//<![CDATA[
/**
 * Accepts variables passed in from Shashin, and customizes the display of Highslide.
 *
 * This file is part of Shashin. Please see the Shashin.php file for
 * copyright and license information.
 *
 * @author Michael Toppa
 * @version 2.6
 */

// The "-0" and "!!" are for type casting, as all vars brought over
// from wp_localize_script come in as strings
hs.graphicsDir = highslide_settings.graphics_dir;
hs.align = 'center';
hs.transitions = ['expand', 'crossfade'];
hs.outlineType = ((highslide_settings.outline_type == "none") ? null : highslide_settings.outline_type);
hs.fadeInOut = true;
hs.dimmingOpacity = highslide_settings.dimming_opacity-0;

// Add the controlbar for slideshows
function addHSSlideshow(groupID) {
    hs.addSlideshow({
        slideshowGroup: groupID,
        interval: highslide_settings.interval-0,
        repeat: !!(highslide_settings.repeat-0),
        useControls: true,
        fixedControls: true,
        overlayOptions: {
            opacity: .75,
            position: highslide_settings.position,
            hideOnMouseOut: !!(highslide_settings.hide_controller-0)
        }
    });
}

// for Flash
hs.outlineWhileAnimating = true;
hs.allowSizeReduction = false;
// always use this with flash, else the movie will not stop on close:
hs.preserveContent = false;




//]]></script>
<script type='text/javascript' src='http://gurmeet.net/wp-content/plugins/fancybox-for-wordpress/js/jquery.fancybox-1.2.6.min.js,qver=1.3.2.pagespeed.ce.8mUbK2rNw_.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://gurmeet.net/xmlrpc.php?rsd"/>
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://gurmeet.net/wp-includes/wlwmanifest.xml"/>
<link rel='index' title='' href='http://gurmeet.net/'/>
<link rel='next' title='Music' href='http://gurmeet.net/music/'/>
<meta name="generator" content="WordPress 3.2.1"/>
<!-- All in One SEO Pack 1.6.13.3 by Michael Torbert of Semper Fi Web Design[284,320] -->
<link rel="canonical" href="http://gurmeet.net/puzzles/"/>
<!-- /all in one seo pack -->
<!-- Fancybox for WordPress v2.7.5 -->
<script type="text/javascript">

	jQuery.noConflict();

	jQuery(function(){

				jQuery.fn.getTitle = function() {
			var arr = jQuery("a.fancybox");
			jQuery.each(arr, function() {
				var title = jQuery(this).children("img").attr("title");
				jQuery(this).attr('title',title);
			})
		}

		// Supported file extensions
		var thumbnails = 'a:has(img)[href$=".bmp"],a:has(img)[href$=".gif"],a:has(img)[href$=".jpg"],a:has(img)[href$=".jpeg"],a:has(img)[href$=".png"],a:has(img)[href$=".BMP"],a:has(img)[href$=".GIF"],a:has(img)[href$=".JPG"],a:has(img)[href$=".JPEG"],a:has(img)[href$=".PNG"]';


		jQuery(thumbnails).addClass("fancybox").getTitle();

			jQuery("a.fancybox").fancybox({
			'imageScale': true,
			'padding': 10,
			'zoomOpacity': true,
			'zoomSpeedIn': 500,
			'zoomSpeedOut': 500,
			'zoomSpeedChange': 300,
			'overlayShow': true,
			'overlayColor': "#666666",
			'overlayOpacity': 0.9,
			'enableEscapeButton': true,
			'showCloseButton': true,
			'hideOnOverlayClick': true,
			'hideOnContentClick': false,
			'frameWidth':  640,
			'frameHeight':  480,
												'centerOnScroll': true
		});

})

</script>
<!-- END Fancybox for WordPress -->
<script charset="utf-8" type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script><script type="text/javascript">stLight.options({publisher:'wp.190eb1f0-83df-40a3-8c05-9b5699762a06'});var st_type='wordpress3.0.4';</script><script type="text/javascript">function getTubePressBaseUrl(){return "http://gurmeet.net/wp-content/plugins/tubepress";}</script>
<link rel="stylesheet" type="text/css" media="screen" href="http://gurmeet.net/wp-content/plugins/wp-google-weather/wp-google-weather.css.pagespeed.ce.tg8Q5k5_I5.css"/><style type="text/css">
/* <![CDATA[ */
img.latex { vertical-align: middle; border: none; }
/* ]]> */
</style>
<style type="text/css">.broken_link, a.broken_link {
text-decoration: line-through;
}</style>
<!-- Clean Archives Reloaded v3.2.0 | http://www.viper007bond.com/wordpress-plugins/clean-archives-reloaded/ -->
<style type="text/css">.car-collapse .car-yearmonth { cursor: s-resize; } </style>
<script type="text/javascript">
		/* <![CDATA[ */
			jQuery(document).ready(function() {
				jQuery('.car-collapse').find('.car-monthlisting').show();
				jQuery('.car-collapse').find('.car-monthlisting:first').show();
				jQuery('.car-collapse').find('.car-yearmonth').click(function() {
					jQuery(this).next('ul').slideToggle('fast');
				});
				jQuery('.car-collapse').find('.car-toggler').click(function() {
					if ( 'Expand All' == jQuery(this).text() ) {
						jQuery(this).parent('.car-container').find('.car-monthlisting').show();
						jQuery(this).text('Collapse All');
					}
					else {
						jQuery(this).parent('.car-container').find('.car-monthlisting').hide();
						jQuery(this).text('Expand All');
					}
					return false;
				});
			});
		/* ]]> */
	</script>
<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3"/>
<script type="text/javascript">//<![CDATA[
function toggledisplay(targetID) {
    target = document.getElementById(targetID);
    if (target.style.display == "none") {
        target.style.display = "";
    } else {
        target.style.display = "none";
    }
}

//]]></script>
</head>
<body>
<div id="topbar">
<div id="social">
<span style="vertical-align:middle;"><iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fgurmeet.net%2Fpuzzles%2F&amp;layout=button_count&amp;show_faces=false&amp;width=80&amp;action=like&amp;font=trebuchet+ms&amp;colorscheme=light&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:80px; height:21px; text-align:right; vertical-align:middle; " allowtransparency="true"></iframe></span>
<span style="vertical-align:middle;"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url=http%3A%2F%2Fgurmeet.net%2Fpuzzles%2F&amp;text=GurmeetCorner&amp;count=horizontal&amp;lang=  " style="width:100px; height:21px; text-align:right; vertical-align:middle; "></iframe></span>
<span><a href="maito:gurmeet@gmail.com"><img style="vertical-align:middle;" src="data:image/gif;base64,R0lGODlhMgAMAKIAAJGRkdXV1f///3x8fKWlpenp6bq6umZmZiH5BAAAAAAALAAAAAAyAAwAAAO0eEDQ/mscQau9ON9jiq6FMX1kSQ0CYHwGUKBCEcyBN1c37lG10J8UAiEjBApEh+QqaUsGKCJYgCNQVGBHF0h1hR6eleQQ4DxJmktA9zp4BgZYAUxEMIAVh8JB8tTTfVRWRik1DjJqRnR2FBx7AyJPBF9wgGlrdTgVBkNyXnY9X2QGkHIDAHxTS20zKEUamHNJSlUBIiFfUzsHBKlVsnsBnB8AbybGGlQmIsfMFqYMENESzdQJADs=" title="Send me an email"></img></a> &nbsp; </span>
<span><a href="http://gurmeet.net/rss-feeds"><img style="vertical-align:middle;" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAUAAA/+4ADkFkb2JlAGTAAAAAAf/bAIQAAgICAgICAgICAgMCAgIDBAMCAgMEBQQEBAQEBQYFBQUFBQUGBgcHCAcHBgkJCgoJCQwMDAwMDAwMDAwMDAwMDAEDAwMFBAUJBgYJDQsJCw0PDg4ODg8PDAwMDAwPDwwMDAwMDA8MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwM/8AAEQgAEAAQAwERAAIRAQMRAf/EAGwAAQEBAAAAAAAAAAAAAAAAAAUGCAEAAwEAAAAAAAAAAAAAAAAABAUHARAAAQMEAQUBAQAAAAAAAAAAAQIEBhESAwUAITFBEwdhFBEAAgEDBAMBAQAAAAAAAAAAAQIEETEDACFBBRIiMsFS/9oADAMBAAIRAxEAPwDcUEhOnmEd2Erm2nkj528f51PZvr8mFzjxWpQonO1N2S1FaqUE9u3bkVhxMU2O8iUmU+xrlSjBbfSfVBckC1tWzsuwywZCR4r4gAopiYFSb/L/ADU8Am99DzWOOPl7nXvWLzG6wPUf1xeTswEpypTSi0EVtWmoqmvT9B4indZJ6uQmRMnkh9seRbMPwjkfmmPXTsXbYnR0ow9XRrg/oPB01oJjpvmOmUDg2TP6Cw2WIOm99rYtEWe5vnxXgEkBQoU1qQQeH9dMXq1aq5FlLk339Cm1VYV3rvxyCDoOb1+Ttsg9kaMyGn9ee9GU02454IpqYnP0HQTvT7aAxLVbN49dy3Fs4E1DdKfVgdYaO2xos2J9qlqSkdPPjjeTLjy8LxsCnfL5YxSwYey32HlUgDbW9d1meBlSXIdQBhKZTW5U+jW3PjQE31//2Q==" title="RSS Feed"></img></a></span>
</div>
<div id="breadcrumb">
<a title="Home" href="http://gurmeet.net"><u>Home</u></a> </div>
</div>
<div id="content">
<div class="entry entry-1">
<div class="entrytitle">
Delightful Puzzles <div class="entrydate">
</div>
</div>
<div class="entrybody">
<style type="text/css">
<!--
.puzzlebox {
}
.puzzleheader {
 font-weight:bold;
 font-family: Garamond, "Trebuchet MS", sans-serif;
 color:black;
 text-align:center;
 font-size:125%;
 padding-bottom:1em;
}
.puzzlename {
  font-weight:bold;
  font-family: Garamond, "Trebuchet MS", sans-serif;
  width:100%;
  height:1.6em;
  text-align:center;
}
.puzzlename a{  /* to make links wide and easily clickable */
  display:block;
  height:100%;
  width:100%;
  -moz-border-radius: 10px; /* rounded boxes */
  border-radius: 10px; /* rounded boxes */
  padding-left:0.2em;
}
.puzzlename a:hover {text-decoration: underline;}
.puzzletext {
 color:black;
 background-color:papayawhip;
 padding:2.3em 1em 1em 1em;
 border:2px solid brown;
 margin:-2em 0em 0.5em 0em;
 -moz-border-radius: 10px; /* rounded boxes */
 border-radius: 10px; /* rounded boxes */
}
-->
</style>

<div style="float: left; width: 98%; margin:0em 1em 0em 0em; padding:0em;">

<div class="puzzle-text"><b>Puzzle</b>: On an island live 13 purple, 15 yellow and 17 maroon chameleons. When two chameleons of different colors meet, they both change into the third color. Is there a sequence of pairwise meetings after which all chameleons would have the same color?
</div><div class="puzzle-solution"><b>Solution</b> (click in box below):<div class="puzzle-solution-text">
With p purple, y yellow and m maroon chameleons, X = (0p + 1y + 2m) mod 3 remains constant no matter which two chameleons meet and change colors. Why? Because X = (0p + 1y + 2m) mod 3 = (0(p-1) + 1(y-1) + 2(m+2)) mod 3 = (0(p-1) + 1(y+2) + 2(m-1)) mod 3 = (0(p+2) + 1(y-1) + 2(m-1)) mod 3. Now, with p=13, y=15 and m=17, X equals 1. However, if p+y+m = 45 chameleons had identical color, then X would have to be 0. So all chameleons can never have the same color.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: You are given three piles with 5, 49 and 51 pebbles respectively. Two operations are allowed: (a) merge two piles together or (b) divide a pile with an even number of pebbles into two equal piles. Is there a sequence of operations that would result in 105 piles with one pebble each?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text">
Since all three piles are odd, the first operation must be merger of two existing piles, resulting in an even-sized pile and an odd-sized pile. Let g denote the greatest common divisor of these two pile sizes. Since one pile is odd sized and the other pile is even sized, g must be odd. For odd g, no matter what sequence of operations is carried out (merger of two existing piles or division of an even pile into two equal piles), every pile size will continue to be a multiple of g. If g &gt; 1, then we can never reach a configuration where all piles are size 1. Now, starting with {5, 49, 51}, three states are possible: {54, 51}, {5, 100} and {49, 56}. The GCD is 3, 5 and 7, respectively, in these three states. So we can never get 105 piles with 1 pebble each.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: Rajeev is trapped atop a building 200m high. He has with him a rope 150m long. There is a hook at the top where he stands. Looking down, he notices that midway between him and the ground, at a height of 100m, there is a ledge with another hook. In his pocket lies a Swiss knife. Hmm&#8230; how might he be able to come down using the rope, the two hooks and the Swiss knife?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text"><img src="http://gurmeet.net/wp-content/uploads/2010/03/bowline.gif?w=95" alt="" title="Bowline knot" width="47" height="75" style="float:left; padding-right:1em; padding-bottom:1em;"/> Cut rope into 50m and 100m pieces. Tie one end of the 50m piece to the top hook and make a knot at the other end (see picture for a bowline knot) with a fixed loop. Pass the 100m piece through the loop and tie its two ends to form a loop. Now, Rajeev can climb down 100m to the ledge. Now, cut the 100m loop using the knife. Collect this piece by holding one end, pulling at it and letting the other end slide through the loop. Finally, tie one end of this 100m piece to the hook at the ledge and slide down.
</div></div>
<div class="puzzle-text"><strong>Puzzle</strong>: Mary baked a rectangular cake. Merlin secretly carved out a small rectangular piece, ate it and vanished! The remaining cake has to be split evenly between Mary’s two kids. How could this be done with only one cut through the cake?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text">
(by Yuri Robbers): There are two solutions to this problem. The first solution is perhaps a little bit silly, and it only works if the cake is vertically symmetrical. In that case it owuld be possible to halve the cake horizontally. The top half and the bottom half would then be identical.<hr/>
A less silly solution is to cut along the line that runs through the center of the original cake, and through the center of the piece that is missing. If the centers happen to coincide, then any line through that joint center will do. Any rectangle is halved by any line through its center. Cutting through the center of the cake therefore halves the cake, while cutting through the center of the missing piece, halves the missing piece.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: Consider five holes in a line. One of them is occupied by a fox. Each night, the fox moves to a neighboring hole, either to the left or to the right. Each morning, you get to inspect a hole of your choice. What strategy would ensure that the fox is eventually caught?
</div><div class="puzzle-solution"><strong>Solution</strong>:<br/>
Let holes be numbered 1 thru 5. Inspecting the holes in any of the following sequences suffices:<p>&nbsp;&nbsp;2, 3, 4, 2, 3, 4</p><p>&nbsp;&nbsp;2, 3, 4, 4, 3, 2</p><p>&nbsp;&nbsp;4, 3, 2, 2, 3, 4</p><p>&nbsp;&nbsp;4, 3, 2, 4, 3, 2</p><p>Explanation for sequence 2, 3, 4, 2, 3, 4: Let F denote the set of holes where the fox might be hiding. On any morning, the fox is either in an even numbered hole or an odd numbered hole. So on the first morning, either F = {1, 3, 5} or F = {2, 4}. If F = {2, 4}, then the following sequence of inspections suffices to catch the fox: 2, 3, 4. However, if the fox was not caught, then F must have equalled {1, 3, 5} on the first morning, so F must equal {2, 4} on the fourth morning. Therefore, repeating the sequence 2, 3, 4 from the fourth day onwards would suffice to catch the fox.</p><p>Another explanation to convince us that the sequence 2, 3, 4, 2, 3, 4 suffices to catch the fox: Let F denote the set of holes where the fox might be hiding. Initially, F = {1, 2, 3, 4, 5}. If the fox is not in hole 2, it must move so that F = {2, 3, 4, 5}. If the fox is not in hole 3, it must move so that to F = {1, 3, 4, 5}. If the fox is not in hole 4, it must move so that F = {2, 4}. If the fox is not in hole 2, it must move so that F = {3, 5}. If the fox is not in hole 3, it must move so that F = {4}.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: Imagine a 3x3x3 wooden cube. How many cuts do we need to break it into twenty-seven 1x1x1 cubes? A cut may go through multiple wooden pieces.
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text"><b>Solution</b>: The central 1x1x1 cube has six faces. No cut can reveal two or more of these faces! So six cuts are necessary and sufficient.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: Peter and Cynthia stand at each end of a straight line segment. Peter sends 50 ants towards Cynthia, one after another. Cynthia sends 20 ants towards Peter. All ants travel along the straight line segment. Whenever two ants collide, they simply bounce back and start traveling in the opposite direction. How many ants reach Peter and how many reach Cynthia? How many ant collisions take place?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text">
Imagine that when two ants meet, they switch identities. So even after a collision, two ants are traveling in two opposite directions. It follows that 20 ants return to Peter while 50 ants reach Cynthia. To calculate the number of ant collisions, imagine that each ant carries a message. So Peter has sent 50 messages to Cynthia, one message per ant. Similarly, Cynthia has sent 20 messages to Peter, one message per ant. Further, imagine that the two ants swap messages when they collide. Then a message always makes forward progress. Each of Cynthia&#8217;s messages goes through 50 ant collisions. Each of Peter&#8217;s messages goes through 50 ant collisions. The total number of collisions is 50 times 20, which is 1000.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: An ant crawls from one corner of a room to the diametrically opposite corner along the shortest possible path. If the dimensions of the room are 3 x 4 x 5, what distance does the ant cover?
</div><div class="puzzle-solution"><b>Solution</b>: If the room&#8217;s dimensions are a x b x c, then the length of the shortest path is <img src='http://gurmeet.net/wp-content/latex/382/3828d6a14de541fe00d24d94bd0b1cb4-ffffff-000000-0.png' alt='\min(\sqrt{(a+b)^2 + c^2}, \sqrt{(b+c)^2 + a^2}, \sqrt{(c+a)^2 + b^2})' title='\min(\sqrt{(a+b)^2 + c^2}, \sqrt{(b+c)^2 + a^2}, \sqrt{(c+a)^2 + b^2})' class='latex'/>.
</div>
<div class="puzzle-text"><b>Puzzle</b>: 30 coins of arbitrary denominations are laid out in a row. Simran and Tavleen alternately pick one of the two coins at the ends of the row so as to pick up as much money as possible. If Simran makes the first move, could Tavleen ever collect more money than Simran, if Simran makes the optimal choices?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text">
When the total number of coins is even, the first player could pick all coins in odd-numbered positions or all coins in even-numbered positions, whichever set is larger in value.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: Imagine a cube on a flat table, tantalizingly balanced on one of its vertices such that the vertex most distant from it is vertically above it.<p>(a) What is the length of the shortest path an ant could take to go from the topmost vertex to the bottommost vertex?</p><p>(b) What will be the projection on the table if there is a light source right above the cube?</p><p>(c) What would be the cross-section obtained if we slice the cube along a plane parallel to the table, passing through the midpoint of the topmost and the bottommost points of the cube?</p><p>(d) Is there a way to repeatedly hop from a small cube to an adjacent small cube (sharing a surface) within the large 3×3&#215;3 cube such that there is a closed path covering all small cubes, without ever passing through a small cube twice?
</p></div><div class="puzzle-solution"><p><a href="http://gurmeet.net/wp-content/uploads/2008/12/cube1.gif" rel="lightbox[cube1.gif]"><img src="http://gurmeet.net/wp-content/uploads/2008/12/cube1.gif" alt="cube1" title="cube1" width="170" height="172" class="alignright size-full wp-image-3925"/></a></p><p><b>Solution</b>:</p><p>(a) The length is √5 times the length of the edge.</p><p>(b) A hexagon (shown on the right).</p><p>(c) A hexagon (shown below). In fact, the hexagonal cross-section allows a square to be fitted entirely inside it whose dimensions are larger than the sides of the original cube. This insight allows us to solve an old puzzle by Henry Dudeney:</p><blockquote><p>
I had two solid cubes of lead, one very slightly larger than the other, just as shown in the illustration. Through one of them I cut a hole (without destroying the continuity of its four sides) so that the other cube could be passed right through it. On weighing them afterwards it was found that the larger cube was still the heavier of the two! How was this possible?
</p></blockquote><p><a href="http://gurmeet.net/wp-content/uploads/2008/12/cube_hexagon.gif" rel="lightbox[cube_hexagon.gif]"><img src="http://gurmeet.net/wp-content/uploads/2008/12/cube_hexagon.gif" alt="cube_hexagon" title="cube_hexagon" width="234" height="254" class="aligncenter size-full wp-image-3920"/></a></p><p>(d) No.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: An 8&#215;8 square grid has to be covered with isosceles triangular tiles with two tiles per square. Tiles come in two colors: black and white. Such tilings are called Truchet tilings. A tiling is said to be &#8220;fine&#8221; if no two tiles sharing an edge have the same color. How many &#8220;fine&#8221; Truchet tilings are there?
</div><div class="puzzle-solution"><b>Solution</b>: Let us solve the problem for an m by n grid. We have four choices for the top-left square as shown in the figure. For any of these choices, there are only two ways to tile the square to the right of this square. For example, if the tiles in the figure are denoted by A, B, C, D, then, A or B may be followed only by A or B, both choices being valid. Similarly, C or D may be followed by only C or D. Continuing this way, there are exactly 2<sup>n+1</sup> ways to tile the top-most row. Now, let us tile the row below the top-most row. There are two choices for the left-most square. For each of these two choices, there is exactly one choice for the square to its right, and so on. In other words, the entire row is determined by the row above and the left-most tile in that row. So for an m x n grid, there are 2<sup>m+n</sup> possible tilings.<p><a href="http://gurmeet.net/wp-content/uploads/2008/11/truchet-tiles.gif" rel="lightbox[truchet-tiles.gif]"><img src="http://gurmeet.net/wp-content/uploads/2008/11/truchet-tiles.gif" alt="truchet-tiles" title="truchet-tiles" width="292" height="68" class="aligncenter size-full wp-image-3381"/></a></p><p>The tiles shown in the figure are called <a href="http://jacques-andre.fr/faqtypo/truchet/truchet3E.html">Truchet Tiles</a>. Further infrormation: <a href="http://mathworld.wolfram.com/TruchetTiling.html">article at Wolfram</a>, and <a href="http://www.scriptar.com/tiles/">Truchet tile generator</a>.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: An old parchment has directions to a treasure chest buried in an island:<blockquote><p>
There is an unmarked grave and two tall oak trees. Walk from the grave to the left tree, counting the number of steps. Upon reaching the left tree, turn left by 90 degrees and walk the same number of steps. Mark the point with a flag. Return to the grave. Now, walk towards the right tree, counting the number of steps. Upon reaching the right tree, turn right by 90 degrees and walk the same number of steps. Mark this point with another flag. The treasure lies at the midpoint of the two flags.
</p></blockquote><p>A party of sailors reached the island. They find a pair of tall oak trees merrily swaying in the wind. However, the unmarked grave is nowhere to be found. They are planning to dig up the entire island. It&#8217;ll take a month. Can they do any better?
</p></div><div class="puzzle-solution"><b>Solution</b>: (by Yuri Robbers) It does not matter much where the grave is! There are only two places where the treasure can be. If you construct a square with the two trees at two diametrically opposite corners, then the treasure can be on either of the other two corners. There is a degenerate case where the grave would be on the same line as the trees. in this case the treasure would be buried exactly between the trees. This degenerate case is, however, excluded by the wording of the instructions, since in that case there would not be a left and a right tree.<p>Proof with vectors: Let the unmarked grave be the origin. Let A and B denote vectors to the two oak trees. The first flag is at A + iA. The second flag is at B &#8211; iB. The mid-point is &frac12; (A + B) + &frac12; (A &#8211; B)i, which may be rewritten as A + &frac12;(B &#8211; A) &#8211; &frac12;(B &#8211; A)i. Note that -iX denotes counterclockwise rotation of vector X by 90 degrees. Now the last expression has three summands, which can be visualized as follows: &#8220;A&#8221; denotes moving from the unmarked grave to the left oak tree, &#8220;&frac12; (B &#8211; A)&#8221; denotes moving half the distance between the two oak trees from A to B, and &#8220;- &frac12;(B-A)i&#8221; denotes turning counterclockwise by 90 degrees and moving the same amount as the previous step. Finally, the unmarked grave could be on either side of the line joining A and B. So there are two points where the treasure might be.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: We have two red, two green and two yellow balls. For each color, one ball is heavy and the other is light. All heavy balls weigh the same. All light balls weigh the same. How many weighings on a beam balance are necessary to identify the three heavy balls?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text">
Two weighings suffice. Weigh one red and one green ball against one yellow and the other green ball. If the weights are equal, then the red and the yellow differ in weight. A weighing between these two balls allows us to deduce the weights of all other balls. If the red-green combination was heavier than the yellow-green combination in the first weighing, then the green ball in the red-green combination is certainly heavy and the other green is light. Now take the red from the red-green combination and the yellow from the yellow-green combination. Weigh these together against the remaining red and the remaining yellow. The only interesting case is when this weighing is &#8220;equal&#8221;. Then, the red from the red-green combination must be heavy and the yellow from the yellow-green combination must be light.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: There are n persons in a circle, numbered 1 thru n. Going around the circle, every second person is removed from the circle, starting with person number 2, 4, and so on. Show that the number of the last person remaining in the circle can be obtained by writing n in binary, then moving the leftmost 1 to the right. So for example, with n = 13 persons (1101 in binary), the last person is number 11 (1011 in binary).
</div><div class="puzzle-solution"><b>Solution</b>: Explained quite well in <a href="http://en.wikipedia.org/wiki/Josephus_problem">Wikipedia article</a> and <a href="http://mathworld.wolfram.com/JosephusProblem.html">Wolfram&#8217;s page</a>.<p><a href="http://oeis.org/A032434">Sloane A032434</a> contains the list of survivors given by the formula <img src='http://gurmeet.net/wp-content/latex/b8e/b8e93dae67c1ba82f1a50630722a1143-ffffff-000000-0.png' alt='1 + 2n - 2^{1 + \lfloor\lg n\rfloor}' title='1 + 2n - 2^{1 + \lfloor\lg n\rfloor}' class='latex'/> where <img src='http://gurmeet.net/wp-content/latex/5af/5af9e59222b9242b7aa82f57a44637bd-ffffff-000000-0.png' alt='\lfloor n\rfloor' title='\lfloor n\rfloor' class='latex'/> is the floor function and <img src='http://gurmeet.net/wp-content/latex/c65/c65a37aa2f4c3afbdc4eff0c0d015405-ffffff-000000-0.png' alt='\lg' title='\lg' class='latex'/> is the logarithm in base 2. The first few members of the sequence are 1, 1, 3, 1, 3, 5, 7, 1, 3, 5, 7, 9, 11, 13, 15, 1.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: How do we measure forty-five minutes using two identical wires, each of which takes an hour to burn. We have matchsticks with us. And yeah, the wires burn non-uniformly. So, for example, the two halves of a wire might burn in 10 minute and 50 minutes respectively.
</div><div class="puzzle-solution"><b>Solution</b> (click in box below):<div class="puzzle-solution-text">
Light three out of four ends. When two ends meet, light the fourth!
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: A prison has 1000 cells. Initially, all cells are marked with &#8211; signs. From days 1 thru 1000, the jailor toggles marks on some of the cells: from + to &#8211; and from &#8211; to +. On the i-th day, the signs on cells that are multiples of i get toggled. On the 1001-th day, all cells marked with + signs are opened. Which cells are these?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text"><b>Solution</b>: A cell is toggled as many times as the number of divisors it has. For example, cell number 24 is toggled on days 1, 2, 3, 4, 6, 8, 12 and 24. Now, divisors come in pairs like 24 = 1*24 = 2*12 = 3*8 = 4*6. So the total number of divisors is even, except when the number is a perfect square, in which case the total number of divisors is odd. Since all cells are initially marked with &#8211; signs, only those cells that have an odd number of divisors have + signs eventually. These are cell numbers 1, 4, 9, 16, 25, 36, and so on.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: You and your opponent shall play a game with three dice: First, your opponent chooses one of the three dice. Next, you choose one of the remaining two dice. The player who throws the higher number with their chosen dice wins. Now, each dice has three distinct numbers between 1 and 9, with pairs of opposite faces being identical. Design the three dice such that you always win! In other words, no matter which dice your opponent chooses, one of two remaining dice throws a number larger than your opponent, on average.
</div><div class="puzzle-solution"><b>Solution</b>:<p>A) If the dice were colored pink (1, 6, 8), green (2, 4, 9) and yellow (3, 5, 7), then pink beats yellow, yellow beats green, and green beats pink.</p><p><table align="center"><tr><td bgcolor="pink">&nbsp;1&nbsp;</td><td bgcolor="lightgreen">&nbsp;2&nbsp;</td><td bgcolor="yellow">&nbsp;3&nbsp;</td><td bgcolor="lightgreen">&nbsp;4&nbsp;</td><td bgcolor="yellow">&nbsp;5&nbsp;</td><td bgcolor="pink">&nbsp;6&nbsp;</td><td bgcolor="yellow">&nbsp;7&nbsp;</td><td bgcolor="pink">&nbsp;8&nbsp;</td><td bgcolor="lightgreen">&nbsp;9&nbsp;</td></tr></table><p>B) If the dice were colored pink (1, 5, 9), green (2, 6, 7) and yellow (3, 4, 8), then green beats pink, pink beats yellow, and yellow beats green.</p><p><table align="center"><tr><td bgcolor="pink">&nbsp;1&nbsp;</td><td bgcolor="lightgreen">&nbsp;2&nbsp;</td><td bgcolor="yellow">&nbsp;3&nbsp;</td><td bgcolor="yellow">&nbsp;4&nbsp;</td><td bgcolor="pink">&nbsp;5&nbsp;</td><td bgcolor="lightgreen">&nbsp;6&nbsp;</td><td bgcolor="lightgreen">&nbsp;7&nbsp;</td><td bgcolor="yellow">&nbsp;8&nbsp;</td><td bgcolor="pink">&nbsp;9&nbsp;</td></tr></table><p>C) If the dice were colored pink (1, 6, 8), green (2, 3, 9) and yellow (4, 5, 7), then pink beats yellow, yellow beats green, and green beats pink.</p><p><table align="center"><tr><td bgcolor="pink">&nbsp;1&nbsp;</td><td bgcolor="lightgreen">&nbsp;2&nbsp;</td><td bgcolor="lightgreen">&nbsp;3&nbsp;</td><td bgcolor="yellow">&nbsp;4&nbsp;</td><td bgcolor="yellow">&nbsp;5&nbsp;</td><td bgcolor="pink">&nbsp;6&nbsp;</td><td bgcolor="yellow">&nbsp;7&nbsp;</td><td bgcolor="pink">&nbsp;8&nbsp;</td><td bgcolor="lightgreen">&nbsp;9&nbsp;</td></tr></table><p><b>Note</b>: Solutions A and B above correspond to rows and columns of a 3&#215;3 magic square!</p><p><table><tr><td><table align="center"><tr><td bgcolor="pink">&nbsp;8&nbsp;</td><td bgcolor="pink">&nbsp;1&nbsp;</td><td bgcolor="pink">&nbsp;6&nbsp;</td></tr><tr><td bgcolor="yellow">&nbsp;3&nbsp;</td><td bgcolor="yellow">&nbsp;5&nbsp;</td><td bgcolor="yellow">&nbsp;7&nbsp;</td></tr><tr><td bgcolor="lightgreen">&nbsp;4&nbsp;</td><td bgcolor="lightgreen">&nbsp;9&nbsp;</td><td bgcolor="lightgreen">&nbsp;2&nbsp;</td></tr></table></td><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td><table align="center"><tr><td bgcolor="yellow">&nbsp;8&nbsp;</td><td bgcolor="pink">&nbsp;1&nbsp;</td><td bgcolor="lightgreen">&nbsp;6&nbsp;</td></tr><tr><td bgcolor="yellow">&nbsp;3&nbsp;</td><td bgcolor="pink">&nbsp;5&nbsp;</td><td bgcolor="lightgreen">&nbsp;7&nbsp;</td></tr><tr><td bgcolor="yellow">&nbsp;4&nbsp;</td><td bgcolor="pink">&nbsp;9&nbsp;</td><td bgcolor="lightgreen">&nbsp;2&nbsp;</td></tr></table></td></tr></table></p></p></p></p></div>
<div class="puzzle-text"><b>Puzzle</b>: A blind man is handed a deck of 52 cards and told that exactly 10 of these cards are facing up. How can he divide the cards into two piles, not necessarily of equal size, with each pile having the same number of cards facing up?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text">
If the original pile has c cards with f cards facing up, then the blind man divides them into piles of size f and c-f. Then he flips all cards in the pile with f cards. Let&#8217;s see why it works for c = 52 and f = 10. The blind man would divide the cards into two piles with 10 and 42 cards each. If there are k face-up cards in the 10-card pile, then there must be 10-k face-up cards in the 42-card pile (because the total number of face-up cards is 10). So by flipping all cards in the 10-card pile, the number of face-up cards in both piles would become equal to 10-k.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: How many steps are required to break an m x n bar of chocolate into 1 x 1 pieces? We may break an existing piece of chocolate horizontally or vertically. Stacking of two or more pieces is not allowed.
</div><div class="puzzle-solution"><b>Solution</b>: We need mn &#8211; 1 steps. By breaking an existing piece horizontally or vertically, we merely increase the total number of pieces by one. Starting from 1 piece, we need mn &#8211; 1 steps to get to mn pieces.<p>Another way to reach the same conclusion is to focus on &#8220;bottom left corners of squares&#8221;: Keep the chocolate rectangle in front of you and start drawing lines corresponding to cuts. Each cut &#8220;exposes&#8221; one new bottom left corner of some square. Initially, only one square&#8217;s bottom left corner is exposed. In the end, all mn squares have their bottom left corners exposed.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: Alice places three identical boxes on a table. She has concealed a precious ruby in one of them. The other two boxes are empty. Bob is allowed to pick one of the boxes. Among the two boxes remaining on the table, at least one is empty. Alice then removes one empty box from the table. Bob is now allowed to open either the box he picked, or the box lying on the table. If he opens the box with the ruby, he gets a kiss from Alice (which he values more than the ruby, of course). What should Bob do?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text">
If Bob switches his choice, he wins with probability 2/3. There&#8217;s a <a href="http://www.youtube.com/watch?v=mhlc7peGlGg">YouTube video</a> explaining the solution! To get better intuition, it helps to consider a slightly different problem with 100 boxes with one box containing a ruby. Bob then picks one of the boxes at random. At least 98 of the remaining boxes are empty &mdash; these are removed by Alice. So now, we are left with two boxes: should Bob switch? Indeed, for he wins with probability 99/100 if he switches!
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: N women stand in a queue to take seats in an auditorium. Seating is pre-assigned. However, the first woman is an absent-minded professor who chooses any of the N seats at random. Subsequent women in the queue behave as follows: if the seat assigned to her is available, she takes it. Otherwise, she chooses an unoccupied seat at random. What are the chances that the last woman in the queue shall get the seat assigned to her?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text">
The chances are one in two. Proof by induction. The base case, N = 2, is immediate. In general, the absent-minded professor might choose her assigned seat with probability 1/N, in which case the last woman surely gets her assigned seat. The absent-minded professor might choose the last woman&#8217;s seat with probability 1/N, in which case the last woman definitely loses her seat. In each of the remaining N-2 cases, by induction, the chances of the last woman getting her assigned seat are one in two. Combining these cases, we see that the overall probability is <img src='http://gurmeet.net/wp-content/latex/683/683d341607f03c6feda0b8d0a82069a8-ffffff-000000-0.png' alt=' \frac{1}{N} (1 + 0 + \frac{1}{2}(N-2))' title=' \frac{1}{N} (1 + 0 + \frac{1}{2}(N-2))' class='latex'/> = 1/2.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: Three wizards are seated at a circular room. A magician shall make hats appear on their heads, one hat per wizard. Hats are either black or white, chosen uniformly at random. A wizard cannot see his own hat. At the sound of a bell, all wizards react simultaneously. A wizard reacts by either announcing a color or keeping quiet. If at least one wizard makes an announcement and if all the announcements are correct, the wizards have collectively won the game! Wizards are allowed to confer beforehand to devise a strategy. On average, can they win more than half the times the game is played?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text">
A wizard should keep quiet if he sees one black and one white hat. If he sees two black hats, he should announce white. If he sees two white hats, he should announce black. With this strategy, the probability of winning the game is 3/4. Why? The game is lost only when all hats are white or all hats are black. These events occur with probability 1/8 each.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: Nine schoolgirls are to be arranged in three rows and three columns on four different days so that any pair of schoolgirls is in the same row on exactly one of the four days.
</div><div class="puzzle-solution"><b>Solution</b>: Let A, B, C, &#8230;, I denote the schoolgirls. Each color represents a row of schoolgirls:<table cellspacing="30"><tr><td><table><tr><td bgcolor="pink">&nbsp;A&nbsp;</td><td bgcolor="pink">&nbsp;B&nbsp;</td><td bgcolor="pink">&nbsp;C&nbsp;</td></tr><tr><td bgcolor="lightgreen">&nbsp;D&nbsp;</td><td bgcolor="lightgreen">&nbsp;E&nbsp;</td><td bgcolor="lightgreen">&nbsp;F&nbsp;</td></tr><tr><td bgcolor="yellow">&nbsp;G&nbsp;</td><td bgcolor="yellow">&nbsp;H&nbsp;</td><td bgcolor="yellow">&nbsp;I&nbsp;</td></tr></table></td><td><table><tr><td bgcolor="pink">&nbsp;A&nbsp;</td><td bgcolor="lightgreen">&nbsp;B&nbsp;</td><td bgcolor="yellow">&nbsp;C&nbsp;</td></tr><tr><td bgcolor="pink">&nbsp;D&nbsp;</td><td bgcolor="lightgreen">&nbsp;E&nbsp;</td><td bgcolor="yellow">&nbsp;F&nbsp;</td></tr><tr><td bgcolor="pink">&nbsp;G&nbsp;</td><td bgcolor="lightgreen">&nbsp;H&nbsp;</td><td bgcolor="yellow">&nbsp;I&nbsp;</td></tr></table></td><td><table><tr><td bgcolor="pink">&nbsp;A&nbsp;</td><td bgcolor="lightgreen">&nbsp;B&nbsp;</td><td bgcolor="yellow">&nbsp;C&nbsp;</td></tr><tr><td bgcolor="yellow">&nbsp;D&nbsp;</td><td bgcolor="pink">&nbsp;E&nbsp;</td><td bgcolor="lightgreen">&nbsp;F&nbsp;</td></tr><tr><td bgcolor="lightgreen">&nbsp;G&nbsp;</td><td bgcolor="yellow">&nbsp;H&nbsp;</td><td bgcolor="pink">&nbsp;I&nbsp;</td></tr></table></td><td><table><tr><td bgcolor="pink">&nbsp;A&nbsp;</td><td bgcolor="lightgreen">&nbsp;B&nbsp;</td><td bgcolor="yellow">&nbsp;C&nbsp;</td></tr><tr><td bgcolor="lightgreen">&nbsp;D&nbsp;</td><td bgcolor="yellow">&nbsp;E&nbsp;</td><td bgcolor="pink">&nbsp;F&nbsp;</td></tr><tr><td bgcolor="yellow">&nbsp;G&nbsp;</td><td bgcolor="pink">&nbsp;H&nbsp;</td><td bgcolor="lightgreen">&nbsp;I&nbsp;</td></tr></table></td></tr></table></div>
<div class="puzzle-text"><b>Puzzle</b>: The first box has two white balls. The second box has two black balls. The third box has one white and one black ball. Boxes are labeled but all labels are wrong! You are allowed to open one box, pick one of its balls at random, see its color and put it back into the box (you do not get to know the color of the other ball). How many such operations are necessary to correctly label the boxes?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text">
Since no label is correct, we have to distinguish between two cases: (BW is labeled BB, BB is labeled WW, WW is labeled BW) or (BW is labeled WW, WW is labeled BB, BB is labeled BW). So pick one ball at random from the box labeled BW.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: How would you divide 50 black and 50 white marbles into two piles, not necessarily of same size, so that the probability of picking a white marble as follows is maximized: we first pick one of the piles uniformly at random, then we pick a marble in that pile uniformly at random?
</div><div class="puzzle-solution"><b>Solution</b>: Put one white marble into one pile and the rest of the marbles into the second pile. The overall probability of drawing a white marble are close to 75%.<p>Formally proving that putting one white in one pile is the optimal solution requires some work. Let us analyze the general case with w white marbles and b black marbles, where both w and b are positive integers. If the two piles are equi-sized, then no matter how we distribute the balls, the probability of drawing a white is <img src='http://gurmeet.net/wp-content/latex/c27/c27076df05914359f42fbb7f8e9bde03-ffffff-000000-0.png' alt='\frac{w}{w+b}' title='\frac{w}{w+b}' class='latex'/>. This configuration is always superior to putting all balls in one pile and making the other pile empty. We are now left with configurations with unequal pile sizes, with each pile having at least one marble each. Divide the marbles arbitrarily into two piles with U and V marbles each, with U &lt; V. We now change the configuration in three steps. With each step, the overall probability of drawing a white marble increases.</p><p>Step 1: Repeatedly swap one black marble from the first pile with one white marble from the second pile. One such swap increases the overall probability of drawing a white marble by <img src='http://gurmeet.net/wp-content/latex/dfe/dfe06a26ffd9f14fbcb881e255f5973d-ffffff-000000-0.png' alt='\frac{1}{2U} - \frac{1}{2V}' title='\frac{1}{2U} - \frac{1}{2V}' class='latex'/>. If w &ge; U, the smaller pile has only white marbles, and we skip Step 2 and go directly to Step 3. However, if w &lt; U, the larger pile has only black marbles and we execute Step 2.</p><p>Step 2 (executed only if w &lt; U) Repeatedly transfer a black marble in the smaller pile to the larger pile. Clearly, this operation increases the overall probability of drawing a white marble. At the end of this step, the smaller pile has only white marbles.</p><p>Step 3: At the end of Steps 1 and 2, the smaller pile has only white marbles. Repeatedly move one white marble from the smaller pile to the larger pile, leaving only one white marble behind.</p><p>For the resulting configuration, the overall probability of drawing a white marble is <img src='http://gurmeet.net/wp-content/latex/abe/abe0eb7aa4819b0a3ad03a87c38e9033-ffffff-000000-0.png' alt='\frac{1}{2} + \frac{1}{2}\frac{w-1}{w+b-1}' title='\frac{1}{2} + \frac{1}{2}\frac{w-1}{w+b-1}' class='latex'/>, which simplifies to <img src='http://gurmeet.net/wp-content/latex/bc7/bc719921a3737eda3278d4b2d96798e6-ffffff-000000-0.png' alt='\frac{w + (w + b - 2)}{w + (w + b - 2) + b}' title='\frac{w + (w + b - 2)}{w + (w + b - 2) + b}' class='latex'/>, which exceeds <img src='http://gurmeet.net/wp-content/latex/c27/c27076df05914359f42fbb7f8e9bde03-ffffff-000000-0.png' alt='\frac{w}{w+b}' title='\frac{w}{w+b}' class='latex'/> when w + b &gt; 2, because <img src='http://gurmeet.net/wp-content/latex/032/032e847005dcd630e0a899b60483372a-ffffff-000000-0.png' alt='\frac{w + w&#039;}{w + w&#039; + b} &gt; \frac{w}{w + b}' title='\frac{w + w&#039;}{w + w&#039; + b} &gt; \frac{w}{w + b}' class='latex'/> for any w&#8217; &gt; 0. So the optimal configuration has one white marble in one pile and all others in the second pile. The only exception is the case w = b = 1 in which both marbles may be in the same pile.</p><p>Thanks to Puneet Pamnani and Arijit Sarcar for developing the above proof at lunch today!
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: Three out of six lookalike balls are heavy. The other three are light. How many weighings on a beam balance are necessary to identify the heavy balls?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text">
Three weighings suffice. There are two different techniques for solving the problem. Let the balls be numbered 1 thru 6.<ol><li> Weigh (1,2) vs (4,5), then (2,3) vs (5,6), then (3,1) vs (6,4).</li><li> All weighings involve one ball on each side of the beam balance. First weigh 1 against 2. If these are equal, then weigh 1 against 3, otherwise weigh 3 against 4. The reader may work out what the third weighing should be.</li></ol></div></div>
<div class="puzzle-text"><b>Puzzle</b>: At a restaurant, how can Veronica choose one out of three desserts with equal probability with the help of a coin? What if the coin is biased and the bias is unknown?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text"><a href="http://gurmeet.net/wp-content/uploads/2008/10/coinflip.gif" rel="lightbox[coinflip.gif]"><img src="http://gurmeet.net/wp-content/uploads/2008/10/coinflip.gif?w=63" alt="" title="coinflip" width="63" height="96" style="float:right;"/></a><br/>
Toss the coin twice. Let TH, HT and TT correspond to the three choices. If HH, repeat. This takes 8/3 tosses on average. If the coin were biased, TH and HT would occur with equal probabilty. So one strategy could be to assign THHT, HTTH and THTH to the three choices, with other 4-toss outcomes rejected. An alternative strategy is to assign HTT, THT and HTT to the three choices, with other 3-toss outcomes rejected.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: Four ships are sailing on a 2D planet in four different directions. Each ships traverses a straight line at constant speed. No two ships are traveling parallel to each other. Their journeys started at some time in the distant past. Sometimes, a pair of ships collides. A ship continues its journey even after a collision. However, it is strong enough only to survive two collisions; it dies when it collides a third time. The situation is grim. Five of six possible collisions have already taken place (no collision involved more than 2 ships) and two ships are out of commission. What fate awaits the remaining two?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text">
Let z-axis denote time. let x- and y- axes denote the 2D planet. Then the four trajectories are straight lines. Since no collision involved more than two ships, these four lines must all lie in a plane. So the sixth collision is certain.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: An evil troll once captured a bunch of gnomes and told them, &#8220;Tomorrow, I will make you stand in a file, ordered by height such that a gnome can see exactly those gnomes that are shorter than him. I will place either a white cap or a black cap on each head. Then, starting from the tallest, each gnome has to declare aloud what he thinks the color of his own cap is. In the end, those who were correct will be spared; others will be eaten, silently.&#8221; The gnomes set thinking and came up with a strategy. How many of them survived?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text">
There is no way for the tallest gnome to figure out the color of his own hat. However, all others can be saved! The tallest gnome says aloud &#8220;black&#8221; if there are an even number of black hats in front of him, otherwise he says &#8220;white&#8221;. The second tallest gnome can now deduce his hat color. He says it aloud. One by one, all others can deduce their own hat color and say it aloud.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: Is it possible to write a function <em>int f(int x)</em> in C that satisfies f(f(x)) == -x? Without globals and static variables, of course.
</div><div class="puzzle-solution"><b>Solution</b>: f(0) must equal 0. If not, then f(0) must equal some non-zero b, so f(b) must equal 0, in which case, f(f(b)) &ne; -b. If f(0) = 0, it follows that f(a) &ne; 0 for any non-zero a. And for non-zero a, f(a) &ne; a.<p>For non-zero a, let f(a) = b, where b &ne; 0. It follows that f(b) = -a, f(-a) = -b and f(-b) = a. In other words, if f(f(x)) == -x for all x, then the set of non-zero integers gets divided into disjoint cycles of size 4, where each cycle is of the form {a, b, -a, -b}. There are two positive and two negative integers in any such cycle. Any function f that divides non-zero integers into such cycles suffices. There are many such functions if we allow all positive and negative integers in the domain. However, when the domain is k-bit numbers for any k, the total number of numbers that can be represented is even, and one of these numbers is always 0. So the number of positive and negative integers allowed by k-bit representations is never the same! Therefore, we can never divide the non-zero integers among the set of k-bit numbers into disjoint cycles of the form {a, b, -a, -b}. Therefore, no f exists such that f(f(x)) == -x in C for k-bit numbers, for any k.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: A perfect in-shuffle of a deck of 52 cards is defined as follows. The deck cut in half followed by interleaving of the two piles. So if the cards were labeled 0, 1, 2, &#8230;, 51, the new sequence is 0, 26, 1, 27, 2, 28, &#8230; With repeated in-shuffles, shall we ever get back the original order? In how many iterations?
</div><div class="puzzle-solution"><a href="http://gurmeet.net/wp-content/uploads/2008/10/card-shuffle.gif"><img src="http://gurmeet.net/wp-content/uploads/2008/10/card-shuffle.gif?w=128" alt="" title="card-shuffle" width="128" height="59" style="float:right;"/></a><br/><b>Solution</b>: The shuffling technique described in the puzzle is known as the <a href="http://en.wikipedia.org/wiki/Faro_shuffle">Faro Shuffle (wikipedia)</a>.<p>
First, let us convince ourselves that we shall get back the original order. The &#8216;inverse&#8217; of the perfect in-shuffle is unique. In other words, there is only one other card ordering that would result in a given card ordering with the application of the perfect in-shuffle. So by repeated application of the perfect in-shuffle, we are certain to recover the original ordering because the total number of card orderings is finite: 52!.</p><p>A closer look at the structure of the perfect in-shuffle reveals that it is simply a permutation. Let the cycle lengths of the permutation be c1, c2, c3, &#8230; Then the number of iterations is the LCM of c1, c2, c3, &#8230; With 52 cards, let the cards be labeled 0, 1, 2, &#8230;, 51. Then cutting and interleaving results in 0, 26, 1, 27, 2, 28, &#8230; , which is equivalent to the following &#8220;moves&#8221;: { 0 -&gt; 0, 1 -&gt; 2, 2 -&gt; 4, 3 -&gt; 6, 4 -&gt; 8, &#8230;, 26 -&gt; 1, 27 -&gt; 3, 28 -&gt; 5, 29 -&gt; 7, &#8230; 51 -&gt; 51}. The inverse of these moves can be captured succinctly as follows: If i is even, i &#8211;&gt; i/2. If i is odd, then i -&gt; 26 + (i-1)/2. The formula helps us to list cycles of the permutation in reverse order:</p><p>
(length 1) 0 -&gt; 0</p><p>
(length 1) 51 -&gt; 51</p><p>
(length 8) 50 -&gt; 25 -&gt; 38 -&gt; 19 -&gt; 35 -&gt; 43 -&gt; 47 -&gt; 49 -&gt; 50</p><p>
(length 8) 48 -&gt; 24 -&gt; 12 -&gt; 6 -&gt; 3 -&gt; 27 -&gt; 39 -&gt; 45 -&gt; 48</p><p>
(length 8) 46 -&gt; 23 -&gt; 37 -&gt; 44 -&gt; 22 -&gt; 11 -&gt; 31 -&gt; 41 -&gt; 46</p><p>
(length 8) 42 -&gt; 21 -&gt; 36 -&gt; 18 -&gt; 9 -&gt; 30 -&gt; 15 -&gt; 33 -&gt; 42</p><p>
(length 8) 40 -&gt; 20 -&gt; 10 -&gt; 5 -&gt; 28 -&gt; 14 -&gt; 7 -&gt; 29 -&gt; 40</p><p>
(length 2) 34 -&gt; 17 -&gt; 34</p><p>
(length 8) 32 -&gt; 16 -&gt; 8 -&gt; 4 -&gt; 2 -&gt; 1 -&gt; 26 -&gt; 13 -&gt; 32</p><p>
So the answer is LCM of {1, 2, 8}, which is 8 shuffles!</p><p><b>Alternate Solution</b> (submitted by Vivek in Oct 2010 in a comment) For all cards other than 0 and 51, a card at position p gets shuffled to position 2p mod 51, which a function that maps [1, 50] &rarr; [1, 50]. After n shuffles, a card at position x would move to position (2<sup>n</sup> p) mod 51. Consider some p in [1, 50] that is co-prime to 51 (in other words, p and 51 have no common prime factors). Then the smallest n &gt; 0 such that 2<sup>n</sup> mod 51 equals 1 happens to be 8 (because 2<sup>n</sup> mod 51 for n ranging from 1 thru 8 is the sequence 2, 4, 8, 16, 32, 13, 26, 1). Now consider the two prime factors of 51, namely 3 and 17. The smallest n &gt; 0 such that (2<sup>n</sup> &sdot; 3) mod (17 &sdot; 3) equals 3 is also 8 (because 2<sup>n</sup> mod 17 for n ranging from 1 thru 8 is the sequence 2, 4, 8, 16, 15, 13, 9, 1). Finally, the smallest n &gt; 0 such that (2<sup>n</sup> &sdot; 17) mod (3 &sdot; 17) equals 17 is 2 (because 2<sup>n</sup> mod 3 for n ranging from 1 thru 2 is the sequence 2, 1). Thus every card would return to its own position in at most 8 shuffles.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: Four honest and hard-working computer engineers are sipping coffee at Starbucks. They wish to compute their average salary. However, nobody is willing to reveal an iota of information about his/her own salary to anybody else. How do they do it?
</div><div class="puzzle-solution"><strong>Solution</strong> (click in box below):<div class="puzzle-solution-text"><b>Solution</b>: The first engineer picks a random k-digit integer for some large k, adds his salary to it and writes the sum on a chit. The chit is passed around. When it returns to the first engineer, he subtracts the k-digit integer.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: A traveler has to pass tests of increasing difficulty to meet an Eastern mystical master. For the first test, he meets a pair of twins at a fork in the road: one path leads to the jungle, the other to the mystic. One of the twins always says the truth, the other always lies. What yes/no question should you ask one of the twins to determine the path that goes to the mystic?<p>For the second test, the traveler encounters another fork in the road. Again, one path leads to the jungle, the other to the mystic. This time, there are three look-alike brothers: one always tells the truth, the second always lies but the third sometimes tells the truth and sometimes lies. What two Yes/No questions should the traveler ask two of the brothers to determine the path to the mystic? Each question is answered by only the brother it is posed to. For the second question, the traveler may choose the brother and the question depending upon the answer to the first question.
</p></div>undefined
<div class="puzzle-text"><b>Puzzle</b>: An array of length n+1 is populated with integers in the range [1, n]. Find a duplicate integer (just one, not all) in linear time with O(1) space. The array is read-only and may not be modified. Variation: what if the array may be written into but must be left unmodified by the algorithm?
</div><div class="puzzle-solution"><b>Solution</b>: (by Ovidiu Gheorghioiu at Google) Treat the values of the array as pointers into the same array. Let us call a chain of pointers a &#8220;linked list&#8221;. The linked list starting with the last entry must have the shape of a &#8220;lollipop&#8221; with a stick and a cycle. Our goal is to identify that node in the linked list that joins the stick to the cycle. We do so in two phases:<p> Phase I: maintain two pointers, one &#8216;slow&#8217; and one &#8216;fast&#8217;. In one round, the slow pointer advances one step and the fast pointer advances two steps along the linked list &mdash; both pointers advance simultaneously. Phase I comes to an end when the two pointers become equal at the end of a round.</p><p> Phase II: maintain two pointers, both &#8216;slow&#8217;. The first slow pointer starts where Phase I ended. The second slow pointer starts at the beginning of the linked list. Phase II ends when these two pointers become equal at the end of a round. This node, magically, is the duplicate (in other words, that node in the linked list where the stick joins the cycle)!</p><p> Proof: Let s and c denote the lengths of the stick and the cycle portions of the lollipop. If the slow pointer in Phase I ends in s + x rounds, then 2(s+x) = s+x + mc, where m is a positive integer. In other words, s+x = mc. So in Phase II, by the time the second slow pointer (which starts at the node where Phase I ended) traverses s nodes, the first slow pointer traverses mc &#8211; x nodes. So both slow pointers become equal at that node where the stick attaches to the cycle.</p><p><b>Alternative Solution</b>: (by Sreeram Ramachandran at Google) Phase I is the same as above. In Phase II, we compute c, the length of the cycle, by advancing the slow pointer until it reaches the same node where Phase I ended. In Phase III, we have two slow pointers, both at the start of the list. We first advance the second slow pointer by c steps, then advance both pointers in tandem until they collide. The collision is guaranteed to be at the node where the stick portion of the lollipop is attached to the cycle.</p><p><b>Another Solution</b>: If the array may be modified, we start reversing the linked list. We shall reach the head of the linked list in 2s + c steps. Reverse the list again so that the cycle is in the correct orientation. During the second reversal, when s + c/2 steps have been taken, start a second &#8220;read-only&#8221; &#8216;backward pointer&#8217; that travels the cycle in the backwards direction, in tandem with the &#8216;forward pointer&#8217; that is busy reversing the list. The forward and the backward pointer shall collide at the node where the stick attaches to the cycle.</p><p><b>Link</b>: <a href="http://www.cs.nyu.edu/web/Academic/Graduate/exams/sample/feb09core_algo_ans.pdf">NYU Exam (with solution)</a> by Mehryar Mohri. This writeup has precise explanation for the algorithm. <a href="http://domino.research.ibm.com/Comm/wwwr_ponder.nsf/solutions/January2004.html">Solution at IBM &#8220;Ponder This&#8221;</a>.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: Alice writes two distinct real numbers between 0 and 1 on two chits of paper. Bob selects one of the chits randomly to inspect it. He then has to declare whether the number he sees is the bigger or smaller of the two. Is there any way he can expect to be correct more than half the times Alice plays this game with him?
</div><div class="puzzle-solution"><b>Solution</b> (click in box below):<div class="puzzle-solution-text">
Let the number revealed to Bob be p. Then Bob should say &#8220;bigger&#8221; with probability p, &#8220;smaller&#8221; otherwise. If the other number is q, then the probability of winning is &frac12; + &frac12; |p &#8211; q|.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: (a) Customers at a grocer’s shop always want an integral number pounds of wheat, between 1 pound and 40 pounds. The grocer prefers to measure wheat in exactly one weighing with a beam balance. What is the least number of weights he needs? (b) Customers come to a pawn shop with antiques. An antique always weighs an integral number of pounds, somewhere between 1 pound and 80 pounds. The owner of the pawn shop is free to do as many weighings as necessary to ascertain the unknown integral weight by using a beam balance. What is the least number of weights he needs?
</div><div class="puzzle-solution"><b>Solution</b>: An individual weight may be (a) not used, (b) placed in the left pan, or (c) placed in the right pan. With n weights, there are 3<sup>n</sup> such combinations. One of these combinations corresponds to &#8220;no weight was used&#8221;. The remaining combinations can be divided into pairs where weights used in the left pan are swapped with weights used in the right pan. So with n weights, modulo left-right symmetry, the total number of combinations is (3<sup>n</sup> &#8211; 1) / 2. Each combination measures some total weight. Whether these total weights are unique or not depends on the choice of individual weights. It turns out that by choosing weights as powers of 3, the (3<sup>n</sup> &#8211; 1) / 2 combinations correspond to total weights which are all unique. For example, by using weights 1, 3, 9 and 27, there are (3<sup>4</sup> &#8211; 1) / 2 = 40 combinations, each of which measures a unique weight in the range [1, 40]. Why are these total weights unique? Hint: You may prove this either by induction or by noting that every integer has a unique representation in base 3 even if we use digits {-1, 0, 1} instead of {0, 1, 2}.<p>For part (b), we can exploit the knowledge that the antique weight is an integer and use weights 3, 6, 18 and 54 (each number is twice a power of three). If the weight of the antique lies between two even numbers, it must be odd &mdash; we can infer this without actually measuring its weight.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: A room has n computers, less than half of which are damaged, others are good. It is possible to query a computer about the status of any computer. A damaged computer could give wrong answers. The goal is to discover a good computer in as few queries as possible.
</div><div class="puzzle-solution"><b>Solution</b>:<p><em>Randomized linear time algorithm</em>: Pick a computer at random. Ask all computers whether it is damaged or not. With probability at least half, one such round succeeds. So we need at most two rounds on average.</p><p><em>Deterministic linear time algorithm</em>: Thanks to Pratik Poddar for this ingenious idea: Consider a chain of computers where each computer except the last announces the status (good or bad) of its successor in the chain. If all announcements are good and if there is at least one good computer in the chain, then the last computer is definitely good! Pratik&#8217;s algorithm constructs such a chain as follows. Start off with an empty chain. Repeatedly affix one of the remaining computers to the end of the chain. If the resulting chain has at least two computers and if the penultimate computer announces that the last computer is bad, then remove both of these computers from the chain and discard them forever. A pair of discarded computers enjoys the following properties: (a) at least one of them must have been bad, and (b) both of them cannot be good. Since good computers are in the majority, the chain must be non-empty after all computers have been processed and there must be at least one good computer in that chain. The last computer in that chain must be good. The total number of queries (asking some computer the status of another computer) is exactly n-1.</p><p>(Flawed solution, pointed out by readers) A deterministic linear time algorithm: Form pairs of computers. Ask computers in a pair the status of each other. If the answers were (good, good), choose one of the two computers. Otherwise, discard both computers. In one such round, the number of computers would reduce by (almost) half, giving us overall linear time.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: A large regular hexagon is cut out of a triangular grid and tiled with diamonds (pairs of triangles glued together along an edge). Diamonds come in three varieties, depending on orientation; prove that precisely the same number of each variety must appear in the tiling.<p><a href="http://gurmeet.net/wp-content/uploads/2008/10/hexagon-grid.png" rel="lightbox[hexagon-grid.png]"><img src="http://gurmeet.net/wp-content/uploads/2008/10/hexagon-grid.png" alt="" title="hexagon-grid" width="193" height="106" class="aligncenter size-full wp-image-3090"/></a></p></div><div class="puzzle-solution"><b>Solution</b>: David and Tomei presented a curious &#8220;Proof Without Words&#8221;:<p><a href="http://gurmeet.net/wp-content/uploads/2008/10/calissons.png" rel="lightbox[calissons.png]"><img src="http://gurmeet.net/wp-content/uploads/2008/10/calissons.png?w=300" alt="" title="calissons" width="300" height="166" class="aligncenter size-medium wp-image-3011"/></a></p><p><b>Dijkstra&#8217;s Notes</b>: The pictorial proof is not rigorous because it depends on an &#8220;optical illusion&#8221;. The lack of rigor prompted <a href="http://en.wikipedia.org/wiki/Edsger_W._Dijkstra">E W Dijkstra</a> to write two short notes (both notes have the same idea &mdash; the second note is a refinement of the first): <a href="http://www.cs.utexas.edu/users/EWD/ewd10xx/EWD1055.PDF">On the Problem of Calissons</a> (5 July 1989) and <a href="http://www.cs.utexas.edu/users/EWD/ewd10xx/EWD1055c.PDF">On Covering a Figure with Diamonds</a> (11 October 1989). The proof is summarized below.</p><p>Dijkstra&#8217;s proof technique is ingenious! In fact, he proves a more general result: &#8220;The triple of frequencies of the three types of diamonds is unique for any figure that admits a tiling.&#8221; And since the hexagon is symmetric in three directions, it follows that these three frequencies must be identical.</p><p>Proof: Consider two different tilings A and B of the same figure. Ignore diamonds that are identical in A and B. The triangles covered by the remaining diamonds form a graph where two triangles are deemed adjacent if some diamond in A <u>or</u> some diamond in B covers both triangles. This graph is essentially a union of cycles of even length. It suffices to prove the theorem for one such cycle. Color all triangles in the original grid black and white so that triangles sharing an edge differ in color. Then all triangles touching a grid line are black on one side and white on the other. Choose a diamond in A that belongs to the cycle and focus on the grid line that divides this diamond into two. The cycle of triangles must cross this grid line an even number of times. In exactly half of these crossings, the cycle moves from a black triangle to a white triangle. So half of these crossings correspond to diamonds in one tiling, and half correspond to the other tiling. QED.</p><p><b>A Simpler Proof</b>: Dijkstra&#8217;s proof is insightful. However, there is little in common between his proof technique and the intuitive &#8220;proof without words&#8221; in the picture above. One approach to formalize the intuitive proof is as follows: &#8220;Draw grid lines in one of the three directions. Ignore calissons that are bisected by these grid lines. That leaves calissons in two out of three orientations. Let two such calissons be glued together if they share an edge parallel to the grid lines. For an n-sided hexagon, gluing partitions the calissons into n disjoint sets. Each set has 2n members, with an equal number of calissons in two orientations in each set.&#8221;
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: Given the head of a linked list, find if it contains a loop or not, in linear time. Can you accomplish it with only O(1) extra space? Can you do it without modifying the list in any way?
</div><div class="puzzle-solution"><strong>Solution</strong>:<ol><li><strong>Hash Table</strong>: Traverse the list and store the pointers in a hash table. As soon as you discover a collision, you&#8217;ve discovered a loop!</li><li><strong>List Reversal</strong>: Traverse the list and start reversing it. If there is a loop, you shall revisit the head again. However, the &#8220;loop&#8221; in the list has been reversed &#8212; to fix that, traverse the list again, reversing the pointers! When I posted the following solution to a newsgroup many years ago, somebody pointed out that it is a haiku :) &#8220;Start reversing the list. If you hit the head, there&#8217;s a loop&#8221;.
</li><li><strong>Pointer Marking</strong>: In practice, linked lists are implemented using C structs with at least a pointer; such a struct in C shall be 4-byte aligned. So the least significant two bits are zeros. While traversing the list, you may &#8216;mark&#8217; a pointer as traversed by flipping the least significant bit. A second traversal is for clearing these bits.</li><li><strong>Two Pointers</strong>: Start with two pointers pointing to the head. At each step, the &#8216;slower&#8217; pointer moves forward only one step and the &#8216;faster&#8217; pointer moves forward two steps. If the faster pointer overtakes the slower pointer at any point of time, we have discovered a loop! For more algorithmic ideas, check out <a href="http://en.wikipedia.org/wiki/Cycle_detection">Wikipedia article on Cycle Detection</a>.
</li></ol></div>
<div class="puzzle-text"><b>Puzzle</b>: Alice is allowed to choose an arbitrary polynomial p(x) of any degree with nonnegative integer coefficients. Bob can infer the coefficients of p(x) by only two evaluations as follows. He chooses a real number a and Alice communicates p(a) to him. He then chooses a real number b and Alice communicates p(b) to him. What values of a and b helped Bob succeed and how?
</div><div class="puzzle-solution"><b>Solution</b>:<br/>
It is quite intriguing that merely two evaluations of the polynomial suffice! Here is the trick: the coefficients of p(x) are exactly the coefficients used to represent the integer p(p(1) + 1) in base p(1) + 1. So Bob first asks for p(1), then ask for p(p(1) + 1) and writes p(p(1) + 1) in base p(1) + 1 to infer all coefficients of p(x).<p>For the second evaluation, any integer greater than p(1) + 1 would also suffice. For example, if p(1) were 6, then Bob could have chosen 10 for the second evaluation and read off coefficients of p(x) from the decimal representation of p(10).
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: An enemy spy has poisoned one out of 1000 barrels of wine in a king&#8217;s cellar. Even a sip of the poisoned wine has potency to kill. However, the effects of the poison show only in 30 days. The king asks the royal jailor to identify the poisoned barrel within 30 days. What is the least number of prisoners the jailor must employ to identify the poisoned barrel?
</div><div class="puzzle-solution"><b>Solution</b> (click in box below):<div class="puzzle-solution-text">
The jailor prepares 10 mixtures labeled 0, 1, 2, &#8230;, 9. Wine from the i-th barrel is added to those mixtures that correspond to 1&#8242;s in the binary representation of i. Thus it takes exactly 10 prisoners to find out the poisoned barrel.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: With two eggs and a building with 100 floors, what is the optimal strategy for finding the lowest floor at which an egg will break when dropped? Followup: What if the number of floors of the building is unknown?
</div><div class="puzzle-solution"><b>Solution</b>: (Thanks to Mike who posted this solution as a comment at <a href="http://gurmeet.net/puzzles/">Puzzles Page</a>)<p>At any point, if you are left with only 1 egg, the only strategy that will give you the answer is to start at the lowest unknown floor and work your way up one-by-one until the egg breaks or until you reach the top floor.</p><p>With 2 eggs, you can improve your strategy by starting somewhere between the lowest unknown floor and the highest unknown floor. If the egg breaks, you can eliminate all upper floors, but then you have to revert to the 1 egg strategy. If the egg doesn’t break, you can eliminate that floor plus all floors below it, and then choose another starting point among the remaining floors and repeat.</p><p>With 100 floors, you can find the correct floor in 14 drops or less by starting at floor 14. If the egg breaks, you then go to floor 1, work your way up, and will find the correct floor with at most 14 drops. If the egg doesn’t break, then move up 13 floors to 27. Again, if it breaks, you work your way up from 15 and will find the correct floor in at most 14 drops. If it didn’t, you move up 12 floors, then 11, etc. Using this method, you can see that you will always find the correct floor in 14 or fewer drops.</p><p>If you attempt to find the floor with 13 or fewer drops, you can see that you must start at the 13th floor or lower, and after the first drop you can move at most 12 floors, then 11, etc. You will not reach the top of the building within 13 drops, so you cannot guarantee you will find the correct floor.</p><p>Therefore, any strategy will in worst case require at least 14 drops.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: Shankar chooses a number between 1 and 10,000. Geeta has to guess the chosen number as quickly as possible. Shankar will let Geeta know whether her guess is smaller than, larger than or equal to the number. The caveat is that Geeta loses the game if her guess is larger than Shankar&#8217;s chosen number two or more times. (A) How many guesses are necessary? (B) What if Shankar is allowed to pick an arbitrarily large positive number?
</div><div class="puzzle-solution"><b>Solution</b>: (A) When Shankar chooses a number between 1 and n, Geeta should start guessing √n, 2√n, 3√n, 4√n, and so on. The first time her guess exceeds Shankar&#8217;s number, the range of numbers has been narrowed down to √n numbers; she then starts guessing sequentially in that range.<p>
(B) If Shankar guesses an arbitrarily large number n, then Geeta may guess 1, 4, 9, 16, 25, and so on, to discover k such that Shankar&#8217;s number lies between k<sup>2</sup> and (k+1)<sup>2</sup>. Then guess k<sup>2</sup>+1, k<sup>2</sup>+2, k<sup>2</sup>+3 and so on. On the whole, this requires O(√n) steps.
</p></div>
<div class="puzzle-text"><div style="float:right;"><a href="http://www.mathhelpforum.com/math-help/attachments/f13/4634d1197105176-divide-square-into-7-equal-parts-pizza_crust.gif"><img src="http://www.mathhelpforum.com/math-help/attachments/f13/4634d1197105176-divide-square-into-7-equal-parts-pizza_crust.gif" width="200"/></a></div><p><b>Puzzle</b>: One day, grandma baked a cake with a square top and dimensions 30cm x 30cm x 10cm. What is a simple strategy for cutting the cake into 9 equal pieces? The next day, grandma baked another cake with the same dimensions. This time, she put a thin layer of icing on top and on all four sides but not on the bottom. What is a simple strategy for cutting such a cake into 9 pieces such that all pieces have the same amount of cake by volume and the same amount of icing by surface area?
</p></div><div class="puzzle-solution"><b>Solution</b>: Let the dimensions of the cake with a square top be s x s x h. Let p denote the number of pieces. The problem can be solved for any values of s, h and p as follows:<p><b>Cake without icing</b>: Pieces of size (s/p) x s x h may be carved out with p-1 cuts.</p><p><b>Cake with icing</b>: Identify p points on the edges of the square top that divide its perimeter into p equal lengths. For each of these p points, slice the cake vertically (from top to bottom using a knife) along the line segment joining the center of the square top to these points. To convince yourself that the resulting pieces have equal amounts of cake (by volume) and equal amounts of icing (by surface area), please see the figure attached for p = 7. Draw additional line segments from the vertices of the square top to its center. Now the top of each piece is either a triangle or the union of two triangles. Since the area of a triangle is half the product of its base and height, it is easy to see why the p pieces divide the square equally by area.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: Shankar chooses a number uniformly at random between 1 and 1000. Geeta has to guess the chosen number as quickly as possible. Shankar will let Geeta know whether her guess is smaller than, larger than or equal to the number. If Geeta&#8217;s guess is larger than the number, Shankar replaces the number with another number chosen uniformly at random [1, 1000]. What should Geeta&#8217;s strategy be?
</div><div class="puzzle-solution"><b>Solution</b> (click in box below):<div class="puzzle-solution-text"><b>Solution</b>: Geeta repeatedly guesses a fixed number n-p. When Shankar&#8217;s number is greater than n-p, Geeta starts guessing n-p+1, n-p+2, and so on. Since Shankar chooses a number uniformly at random in [1, n] the probability that his number equals or exceeds n-p is p/n. So the expected number of guesses is n/p. Thereafter, Geeta has to guess p/2 numbers on average, sequentially. Minimizing the sum n/p + p/2 yields p = <img src='http://gurmeet.net/wp-content/latex/37d/37d9e328b24ee5601a25c0923dc30db3-ffffff-000000-0.png' alt='\sqrt{2n}' title='\sqrt{2n}' class='latex'/>.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: How many cuts are necessary to cut an n x n x n cube into 1 x 1 x 1 cubes? Existing cuboids may be stacked together for cutting. So one cut may go through multiple existing cuboids.
</div><div class="puzzle-solution"><b>Solution</b>: For the general a x b x c cuboid, we need f(a) + f(b) + f(c) cuts, where f(y) = ⌈ log y / log 2 ⌉. This can be proved by induction. Note that at any point, the &#8220;largest&#8221; cuboid requires the most steps; others can be sliced in parallel with this cuboid. When the &#8220;largest&#8221; cuboid has dimensions a x b x c, there are exactly 3 choices: to slice along one of the three sides. For a lying in the range (2^i, 2^(i+1)], any cut that results in the new &#8220;largest cuboid&#8221; being z x b x c, where z lies in the range (2^(i-1), 2^i], is optimal. This is because f(z) for all these z&#8217;s is identical. For example, for 10 x 34 x 98 cuboid, any of the following could be the maximal cuboid for the remaining steps:<br/>
5 x 34 x 100<br/>
6 x 34 x 100<br/>
7 x 34 x 100<br/>
8 x 34 x 100<br/>
10 x 17 x 100<br/>
10 x 18 x 100<br/>
10 x 19 x 100<br/>
&#8230; and so on till<br/>
10 x 32 x 100<br/>
10 x 34 x 49<br/>
10 x 34 x 50<br/>
10 x 34 x 51<br/>
10 x 34 x 52<br/>
.. and so on till<br/>
10 x 34 x 64.
</div>
<div class="puzzle-text"><b>Puzzle</b>: There are 100 prisoners in solitary cells. There’s a central living room with one light bulb; this bulb is initially off. No prisoner can see the light bulb from his or her own cell. Everyday, the warden picks a prisoner equally at random, and that prisoner visits the living room. While there, the prisoner can toggle the bulb if he or she wishes. Also, the prisoner has the option of asserting that all 100 prisoners have been to the living room by now. If this assertion is false, all 100 prisoners are shot. However, if it is indeed true, all prisoners are set free and inducted into MENSA, since the world could always use more smart people. Thus, the assertion should only be made if the prisoner is 100% certain of its validity. The prisoners are allowed to get together one night in the courtyard, to discuss a plan. What plan should they agree on, so that eventually, someone will make a correct assertion?
</div><div class="puzzle-solution"><b>Solution</b>: <a href="http://www.OCF.Berkeley.EDU/~wwu/papers/100prisonersLightBulb.pdf">by William Wu (PDF)</a> &mdash; <a href="http://www.algonet.se/~ug/projects/lightbulb/double.html">Extension by Ulf Göransson</a>.
</div>
<div class="puzzle-text"><b>Puzzle</b>: A goblin forewarns N gnomes as follows: &#8220;Tomorrow morning, I shall place one hat on each of you. Each hat shall be labeled with some number drawn from the range [0, N-1]. Duplicates are allowed, so two different hats might have the same label. Any gnome shall be able to see numbers on other hats but not his own! When a bell rings, all gnomes shall simultaneously announce one number each. If any gnome succeeds in announcing the number on his own hat, all gnomes shall be set free.&#8221; The gnomes have assembled in the evening to discuss their predicament. Can you help them devise a strategy?
</div><div class="puzzle-solution"><b>Solution</b>: For N = 2, numbers are drawn from the range [0, 1]. The following strategy works: The first gnome announces the number on the second gnome&#8217;s hat. The second gnome announces the number that&#8217;s not on the first gnome&#8217;s hat.<p>In general, let gnomes be numbered 0 thru N-1. The i-th gnome should announce (i &#8211; s) mod N, where s is the sum of numbers he sees. With this strategy, if the sum of all N numbers equals m mod N, then the m-th gnome is guaranteed to announce the number of his own hat!</p><p>Thanks to Sreeram Ramachandran for solving this puzzle and sharing his solution with me.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: (A) An 8&#215;8 chessboard has had two of its diagonally opposite squares removed, leaving it with sixty-two squares. Can we tile it with 31 non-overlapping 2&#215;1 rectangles (dominoes) such that all squares are covered? (B) Under what circumstances would removal of two squares from an 8&#215;8 chessboard allow such a tiling? For example, if we remove an arbitrary white square and an arbitrary black square, can the remaining board be tiled?
</div><div class="puzzle-solution"><a href="http://gurmeet.net/wp-content/uploads/2008/10/chessboard1.gif" rel="lightbox[chessboard1.gif]"><img src="data:image/gif;base64,R0lGODdhcABwAIAAAAAAAP///ywAAAAAcABwAAAC/oyPCMvtD6OctFqY8gE6355cHLh9pDGeQUqap6iubhuv8QzCqv7WbG654To82k1YQSZ3Q80vp5xEpczgzjeNZLXVZe/Ypb6aHnIIG5ZsMWn1FTz2tswK+gYdp6wfewf8myc2ZxUoCPUHJJeoSGSHIgIZKTlJyVXoNsjo5CjDWdRImKnXhilquBm6OHpZqnpalgqqCRuLOltXS7tq+qrbi3sLvOv6K1z8mBvi+Sk7bOv8fIycbNwabX1tyYvty12tTQzeDN0tXs7Gir5tfs6X7v7uR8quTD1NXh9cUsnf7///rw8DgQPnwVunLtxBhQvHeftGD6K8eA0ILrB40WBF/o0bKRb0+BFhR5EjGU4kWdJhQpUrs7Vs19DlSZMpZc5k+TKftE767u2EZBGjUI41YYakeRTnTZtLjWYE+YRpUqlTnUa1elXnT2ZUh0LFCDCsWElekT5FedZsWqVFJTbV+nCfPZ9xeeJz2xZvXrl36Ubku3XZXK5YwZZlWxXuX7+L7UojrDin3sSTswKu6xgzUKJrC3O2fFmzI8iVDX8+jRoqaMYxI7d2/bby6syLSYeWfHus7t28+7Le+xs4bdzBhQvuOfy17KCp0c7eDPIw4s5Yn89NHjt39uKUtXfnbv06dLTSqYYXjz498vFmy3tWzfxrc7XnA68/fj+/ft/Y8bf3pw6bcfj1RmCBxP0HoHffIVgff7Yx6F6AAg42oGgV1nbhgexNt9qDEH7WYF0ejkgiheo5WGJPKaKYoXLgRbjcfObBqOCCD65o336PteifgT7+uFt8ztEIXoga8jjhiRbquCSTRyrZJItSTpkjlY3hGGWVVyJpI5ZPOvklmD1ymWCNZXJH5IfwcZaml1uKOSaUWYap5ZtA3skbkW66iAIeQ8oHqBFvBMphm36qJeOMgwLyZ6OOHrIoooQWGimkjyo6qROHUnoppoIyKmmn731KKqehinoGIqauyqqmqnra6qiWlgprrbZ64AOeunISQAEAOw==" alt="" title="chessboard1" width="112" height="112" class="alignright size-full wp-image-3113"/></a><br/><b>Solution</b>: (A) Both removed squares have identical color! So their removal leaves us with 30 squares of one color and 32 squares of the other color. Since a domino always covers one black and one white squares, the 62 remaining squares cannot be tiled.<p><a href="http://gurmeet.net/wp-content/uploads/2008/10/rook-tour.png" rel="lightbox[rook-tour.png]"><img src="http://gurmeet.net/wp-content/uploads/2008/10/82x82xrook-tour.png.pagespeed.ic.G5I78IOuNI.png" alt="" title="rook-tour" width="82" height="82" class="alignleft size-full wp-image-3117"/></a></p><p>(B) Removal of any white and any black square allows tiling with dominoes. Proof: Find a Hamiltonian cycle among the squares, with two squares deemed adjacent iff they share an edge. In other words, cover all squares of a chessboard using a rook without covering the same square twice, and returning to the original square. Removal of one white and one black square breaks the cycle into two paths with even lengths. A path of even length can be tiled with 2&#215;1 dominoes because successive squares in the path share an edge.</p><p>Alternative solution (thanks to Sreeram Ramachandran at Google): The smallest rectangle that includes the excluded squares must have one side odd and the other side even. Let us call this rectangle &#8220;special&#8221;. Slice the large rectangle by extending those two edges of the special rectangle that are odd in length. Then slice only that rectangle that contains the special rectangle along the two edges of the special rectangle that are even in length. Now, we have (at most) five rectangles. The rectangles other than the special rectangle have at least one side that is even. So these can be tiled. It is easy to see that the special rectangle can also be tiled.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: A set of fuel dumps on a circular racetrack have just enough gasoline for one car to make one round trip. Prove that there exists a fuel dump from which one car, starting with an empty gas tank, can complete the round trip.
</div><div class="puzzle-solution"><b>Solution</b> (click in box below):<div class="puzzle-solution-text">
There must exist a fuel dump that allows the car to reach the next fuel dump. Remove the second fuel dump and transfer its fuel to the first fuel dump. Continuing this way, we must be left with one fuel dump. An <a href="http://www.cut-the-knot.org/proofs/GasStations.shtml">alternative solution</a> at www.cut-the-knot.org.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: Find all configurations of 4 points in a plane with only 2 distinct values for distances between pairs of points.
</div><div class="puzzle-source"><b>Solution</b>: <div style="float:right; padding:1em;"><img width="200" src="http://gurmeet.net/Images/four-points-two-distances.png"></img><br/>
(diagram thanks to <a href="http://affinemess.com/blog/2009/01/four-points-two-distances/" class="broken_link" rel="nofollow">affineness.com</a>).
</div><p>Let the two distances be A and B. There are 4 cases to consider:</p><ol><li> AAAAAA: No possible configuration.</li><li> AAAAAB: The only possible configuration is two equilateral triangles sharing an edge.</li><li> AAAABB: Two cases (resulting in 3 configurations):
<ol><li><em>All distances from some point to the other 3 points are A.</em> Then some 3 points form an equilateral triangle. Let XYZ be the equilateral triangle. Draw a circle with center X and radius XY. The fourth point W must lie at the intersection of the perpendicular bisector of YZ with the circle. There are two such points. Both are valid configurations.</li><li><em>No point has all 3 distances to other points as A.</em> Then the four points must form a rhombus. Since the other two distances are BB, the configuration must be a square.</li></ol></li><li>AAABBB: Two cases (resulting in 2 configurations):
<ol><li> AAA corresponds to an equilateral triangle. The BBB corresponds to distances of the fourth point to the three points in the triangle. So the fourth point must lie at the intersection of the perpendicular bisectors of the edges of the equilateral triangle, which also happens to be centroid.</li><li> AAA corresponds to edges { WX, XY, YZ } while BBB corresponds to edges { XZ, ZW, WY }. This configuration has a unique solution: 4 out of 5 points of a regular pentagon.</li></ol></li></ol><p><b>Notes</b>: Detailed explanation of the solution: <a href="http://affinemess.com/blog/2009/01/four-points-two-distances/" class="broken_link" rel="nofollow">here (at affineness.com)</a>.
</p></div>
<div class="puzzle-text"><strong>Puzzle</strong>: Show that a chessboard of size 2^n by 2^n can be tiled with L-shaped figures of 3 squares, such that only one square remains uncovered. In fact, the uncovered square may be any square &mdash; for every choice, there exists a tiling.
</div><div class="puzzle-solution"><b>Solution</b> (click in box below):<div class="puzzle-solution-text">
Let us first visualize a tiling with the corner square uncovered. For a board of size 2 x 2, one L-shape suffices. Induction step: put 3 boards of size 2^n by 2^n next to each other such that their corner squares form an L-shape. Put a fourth board of size 2^n by 2^n so that the corner square of the resulting 2^(n+1) by 2^(n+1) board is in its corner. That proves the induction step. Now, let us visualize how we can move the uncovered square to any square of our choice through a series of &#8220;rotations&#8221;. Given an 2^(n+1) by 2^(n+1) board with a corner square removed, identify which of the four 2^n by 2^n boards that compose the 2^(n+1) by 2^(n+1) board contains the target square. Then rotate the 2^(n+1) by 2^(n+1) board clockwise so that the correct 2^n by 2^n board contains the uncovered square. Now, focus on the 2^n by 2^n board and rotate it appropriately, and so on.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: Alice repeatedly draws a card randomly, without replacement, from a pack of fifty-two cards. Bob has a one-time privilege to raise his hand just before a card is about to be drawn. If the card drawn is Red just after Bob raises his hand, Bob wins; otherwise he loses. Is there any way for Bob to be correct more than half the times he plays this game with Alice?
</div><div class="puzzle-solution"><b>Solution</b> (click in box below):<div class="puzzle-solution-text">
Imagine that whenever Bob raises his hand, Alice draws the <em>last</em> card in the pile (instead of the next card). This process is equivalent to the original process as far as the color of the card being drawn is concerned. So the probability that the card drawn is red is half. In other words, Bob can never be correct more than half the times he plays this game with Alice.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: At the Secret Convention of Logicians, the Master Logician placed a band on each attendee’s head, such that everyone else could see it but the person themselves could not. There were many, many different colours of band. The Logicians all sat in a circle, and the Master instructed them that a bell was to be rung in the forest at regular intervals: at the moment when a Logician knew the colour on his own forehead, he was to leave at the next bell. Anyone who left at the wrong bell was clearly not a true Logician but an evil infiltrator and would be thrown out of the Convention post haste; but the Master reassures the group by stating that the puzzle would not be impossible for anybody present. How did they do it?
</div><div class="puzzle-solution"><b>Solution</b>: <a href="http://en.wikipedia.org/wiki/Induction_puzzles">Wikipedia article on Induction Puzzles</a></div>
<div class="puzzle-text"><b>Puzzle</b>: One of twelve coins is counterfeit: it is either heavier or lighter than the rest. Is it possible to identify the counterfeit coin in three weighings on a beam balance?
</div><div class="puzzle-solution"><b>Solution</b>: Here are several excellent expositions of various approaches:<ol><li><a href="http://www.cut-the-knot.org/blue/OddballProblem1.shtml">Solution by Brian Bundy</a>.</li><li><a href="http://www.cut-the-knot.org/blue/OddCoinProblems.shtml">Solution by Jack Wert</a> is especially pleasing.</li><li><a href="http://www.cut-the-knot.org/blue/weight1.shtml">McWorter&#8217;s solution</a>.</li><li><a href="http://www.cut-the-knot.org/blue/weight3.shtml">Dyson and Lyness solution</a>.</li><li><a href="http://www.cut-the-knot.org/blue/OddballProblem2.shtml">Newman&#8217;s solution</a>.</li><li><a href="http://mathoverflow.net/questions/39163/12-balls-weighing-puzzle">Wilson&#8217;s solution</a>.</li></ol></div>
<div class="puzzle-text"><b>Puzzle</b>: In an n by n grid of squares, two squares are neighbors if they share an edge. Initially, some squares are &#8220;infected&#8221;. At successive clock ticks, an uninfected square gets infected if at least two of its neighbors are infected. How many squares must initially be infected so that all squares eventually get infected?
</div><div class="puzzle-solution"><b>Solution</b> (click in box below):<div class="puzzle-solution-text"><a href="http://gurmeet.net/wp-content/uploads/2008/10/infected-chessboard.png" rel="lightbox[infected-chessboard.png]"><img src="http://gurmeet.net/wp-content/uploads/2008/10/infected-chessboard.png" alt="" title="infected-chessboard" width="161" height="161" style="float:right;"/></a><br/>
At least n squares must be infected initially. The perimeter of figure(s) formed by infected squares decreases by 0, 2 or 4, depending upon whether the square just infected had 2, 3 or 4 neighbors. When all n<sup>2</sup> squares are infected, the perimeter is 4n. So the initial configuration must have at least n infected squares. For example, infecting all diagonals suffices. There are other configurations too (see figure on right).
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: Find the measure of angle “a” in the diagram (click to enlarge).<br/><a href="http://gurmeet.net/wp-content/uploads/2008/11/triangle-puzzle.gif" rel="lightbox[triangle-puzzle.gif]"><img src="http://gurmeet.net/wp-content/uploads/2008/11/triangle-puzzle.gif" alt="triangle-puzzle" title="triangle-puzzle" width="102" height="221" style="float:right;"/></a></div><div class="puzzle-solution"><b>Solution</b>: <a href="http://mathcircle.berkeley.edu/BMC4/Handouts/geoprob.pdf">PDF Handout by Tom Rike</a> (Berkeley Math Circle Handouts).
</div>
<div class="puzzle-text"><b>Puzzle</b>: A mathemagician asks a volunteer to give him five cards drawn from a pack of fifty-two. He hands one card back to the volunteer and arranges the remaining four in some sequence he chooses. He then hands the sequence to a second volunteer and leaves the room. His assistant enters. The assistant asks the second volunteer to read out aloud the sequence handed to him. The assistant ponders a little and correctly announces the identity of the card held by the first volunteer. How could this be done? In general, how large a deck of cards can be handled if n cards are drawn initially?
</div><div class="puzzle-solution"><b>Solution</b>: <ol><li><a href="http://www.spelman.edu/~colm/fitch.pdf">Five Card Trick</a> by Colm Mulcahy in MAA Horizons, 10 February 2003.</li><li>Interesting variations of the puzzle are in <a href="http://www.maa.org/columns/colm/cardcolm200502.html">Card Colm</a> by Colm Mulcahy in MAA Horizons, Feb 2005.</li><li>Check out <a href="http://www.math-cs.ucmo.edu/~curtisc/articles/cmj196-203.pdf">N-Card Tricks</a> by Hang Chen and Curtis Cooper, The College Mathematics Journal, Volume 40, Number 3, May 2009 , pp. 196-203(8).</li><li>A related puzzle at <a href="http://mathoverflow.net/questions/52541/hard-cube-puzzle">MathOverflow.Net</a>.</li></ol></div>
<div class="puzzle-text"><b>Puzzle</b>: P is told the product of two integers chosen from [2, 99] and S is told the sum. The following dialogue ensues: (1) P says, &#8220;I don&#8217;t know the two integers.&#8221; (2) S replies, &#8220;I knew that already.&#8221; (3) P exclaims, &#8220;Ah! I now know the two numbers.&#8221;, (4) S smugly replies, &#8220;Now I know them too.&#8221; What are the two numbers?
</div><div class="puzzle-solution"><b>Solution</b>: <a href="http://www.cs.utexas.edu/users/EWD/ewd06xx/EWD666.PDF">Article by E W Dijkstra</a> and myriad <a href="http://www.mathematik.uni-bielefeld.de/~sillke/PUZZLES/logic_sum_product">variations of this puzzle</a>.
</div>
<div class="puzzle-text"><b>Puzzle</b>: Devise a fast algorithm for computing the number of 1-bits in an unsigned integer. If the machine supports n-bit integers, can we compute the number of 1-bits in O(log n) machine instructions? Can we compute the number of 1-bits in O(b) machine instructions where b is the number of 1-bits in the integer?
</div><div class="puzzle-solution"><b>Solution</b>: This article presents six solutions to this problem. <a href="http://infolab.stanford.edu/%7Emanku/bitcount/bitcount.c" class="broken_link" rel="nofollow">Source code in C</a> is available.<div class="header">1. Iterated Count</div><pre class="brush: cpp; gutter: true; title: ; wrap-lines: true; notranslate" title="">
int bitcount (unsigned int n) {
   int count = 0;
   while (n) {
      count += n &amp;amp; 0x1u;
      n &amp;gt;&amp;gt;= 1;
   }
   return count;
}
</pre><p>Iterated Count runs in time proportional to the total number of bits. It simply loops through all the bits, terminating slightly earlier because of the while condition. Useful if 1&#8242;s are sparse and among the least significant bits.</p><div class="header">2. Sparse Ones</div><pre class="brush: cpp; gutter: true; title: ; wrap-lines: true; notranslate" title="">
int bitcount (unsigned int n)  {
   int count = 0 ;
   while (n)  {
      count++ ;
      n &amp;amp;= (n - 1) ;
   }
   return count ;
}
</pre><p>Sparse Ones runs in time proportional to the number of 1 bits. The mystical line n &amp;= (n &#8211; 1) simply sets the rightmost 1 bit in n to 0.</p><div class="header">3. Dense Ones</div><pre class="brush: cpp; gutter: true; title: ; wrap-lines: true; notranslate" title="">
int bitcount (unsigned int n)   {
   int count = 8 * sizeof(int) ;
   n ^= (unsigned int) - 1 ;
   while (n)  {
      count-- ;
      n &amp;amp;= (n - 1) ;
   }
   return count ;
}
</pre><p>Dense Ones runs in time proportional to the number of 0 bits. It is the same as Sparse Ones, except that it first toggles all bits (n ~= -1), and continually subtracts the number of 1 bits from sizeof(int).</p><p>
Sparse Ones and Dense Ones were first described by Peter Wegner in &#8220;<a href="http://infolab.stanford.edu/~manku/downloads/cs-papers/p322-wagner.pdf" class="broken_link" rel="nofollow">A Technique for Counting Ones in a Binary Computer</a>&#8220;, Communications of the ACM, Volume 3 (1960) Number 5, page 322.</p><div class="header">4a. Precompute-8bit</div><pre class="brush: cpp; gutter: true; title: ; wrap-lines: true; notranslate" title="">
static int bits_in_char [256] ;

int bitcount (unsigned int n)  {
  // works only for 32-bit ints

  return bits_in_char [n  &amp;amp; 0xffu]
      +  bits_in_char [(n &amp;gt;&amp;gt;  8 ) &amp;amp; 0xffu]
      +  bits_in_char [(n &amp;gt;&amp;gt; 16) &amp;amp; 0xffu]
      +  bits_in_char [(n &amp;gt;&amp;gt; 24) &amp;amp; 0xffu] ;
}
</pre><p>Precompute_8bit assumes an array bits_in_char such that bits_in_char[i] contains the number of 1 bits in the binary representation for i. It repeatedly updates count by masking out the last eight bits in n, and indexing into bits_in_char.</p><div class="header">4b. Precompute-16bit</div><pre class="brush: cpp; gutter: true; title: ; notranslate" title="">
static char bits_in_16bits [0x1u &amp;lt;&amp;lt; 16] ;

int bitcount (unsigned int n)  {
   // works only for 32-bit ints

   return bits_in_16bits [n         &amp;amp; 0xffffu]
       +  bits_in_16bits [(n &amp;gt;&amp;gt; 16) &amp;amp; 0xffffu] ;
}
</pre><p>Precompute_16bit is a variant of Precompute_8bit in that an array bits_in_16bits[] stores the number of 1 bits in successive 16 bit numbers (shorts).</p><div class="header">5. Parallel Count</div><pre class="brush: cpp; gutter: true; title: ; wrap-lines: true; notranslate" title="">
#define TWO(c)     (0x1u &amp;lt;&amp;lt; (c))
#define MASK(c) \
  (((unsigned int)(-1)) / (TWO(TWO(c)) + 1u))
#define COUNT(x,c) \
  ((x) &amp;amp; MASK(c)) + (((x) &amp;gt;&amp;gt; (TWO(c))) &amp;amp; MASK(c))

int bitcount (unsigned int n)  {
   n = COUNT(n, 0) ;
   n = COUNT(n, 1) ;
   n = COUNT(n, 2) ;
   n = COUNT(n, 3) ;
   n = COUNT(n, 4) ;
   /* n = COUNT(n, 5) ;    for 64-bit integers */
   return n ;
}
</pre><p>Parallel Count carries out bit counting in a parallel fashion. Consider n after the first line has finished executing. Imagine splitting n into pairs of bits. Each pair contains the <em>number of ones</em> in those two bit positions in the original n. After the second line has finished executing, each nibble contains the <em>number of ones</em> in those four bits positions in the original n. Continuing this for five iterations, the 64 bits contain the number of ones among these sixty-four bit positions in the original n. That is what we wanted to compute.</p><div class="header">6. Nifty Parallel Count</div><pre class="brush: cpp; gutter: true; title: ; wrap-lines: true; notranslate" title="">
#define MASK_01010101 (((unsigned int)(-1))/3)
#define MASK_00110011 (((unsigned int)(-1))/5)
#define MASK_00001111 (((unsigned int)(-1))/17)
 int bitcount (unsigned int n) {
   n = (n &amp;amp; MASK_01010101) + ((n &amp;gt;&amp;gt; 1) &amp;amp; MASK_01010101) ;
   n = (n &amp;amp; MASK_00110011) + ((n &amp;gt;&amp;gt; 2) &amp;amp; MASK_00110011) ;
   n = (n &amp;amp; MASK_00001111) + ((n &amp;gt;&amp;gt; 4) &amp;amp; MASK_00001111) ;
   return n % 255 ;
}
</pre><p>Nifty Parallel Count works the same way as Parallel Count for the first three iterations. At the end of the third line (just before the return), each byte of n contains the number of ones in those eight bit positions in the original n. A little thought then explains why the remainder modulo 255 works.</p><p>According to Don Knuth (The Art of Computer Programming Vol IV, p 11), in the first textbook on programming, <a href="http://www.amazon.com/Preparation-Programs-Electronic-Computer-Institute/dp/0262231182/">The Preparation of Programs for an Electronic Digital Computer</a> by Wilkes, Wheeler and Gill (1957, reprinted 1984), pages 191&#8211;193 presented Nifty Parallel Count by D B Gillies and J C P Miller.</p><div class="header">7. MIT HAKMEM Count</div><pre class="brush: cpp; gutter: true; title: ; wrap-lines: false; notranslate" title="">
int bitcount(unsigned int n) {
   /* works for 32-bit numbers only    */
   /* fix last line for 64-bit numbers */

   register unsigned int tmp;

   tmp = n - ((n &amp;gt;&amp;gt; 1) &amp;amp; 033333333333)
           - ((n &amp;gt;&amp;gt; 2) &amp;amp; 011111111111);
   return ((tmp + (tmp &amp;gt;&amp;gt; 3)) &amp;amp; 030707070707) % 63;
}
</pre><p>
MIT HAKMEM Count is funky. Consider a 3 bit number as being 4a+2b+c. If we shift it right 1 bit, we have 2a+b. Subtracting this from the original gives 2a+b+c. If we right-shift the original 3-bit number by two bits, we get a, and so with another subtraction we have a+b+c, which is the number of bits in the original number. How is this insight employed? The first assignment statement in the routine computes <em>tmp</em>. Consider the octal representation of <em>tmp</em>. Each digit in the octal representation is simply the number of 1&#8242;s in the corresponding three bit positions in <em>n</em>. The last return statement sums these octal digits to produce the final answer. The key idea is to add adjacent pairs of octal digits together and then compute the remainder modulus 63. This is accomplished by right-shifting <em>tmp</em> by three bits, adding it to <em>tmp</em> itself and ANDing with a suitable mask. This yields a number in which groups of six adjacent bits (starting from the LSB) contain the number of 1&#8242;s among those six positions in <em>n</em>. This number modulo 63 yields the final answer. For 64-bit numbers, we would have to add triples of octal digits and use modulus 1023. This is HACKMEM 169, as used in X11 sources. Source: MIT AI Lab memo, late 1970&#8242;s.</p><div class="header">8. Builtin Instructions</div><p>GNU compiler allows for
<pre><font size="+0"><b>int __builtin_popcount (unsigned int x);</b></font></pre><p> which translates into a single CPU instruction if the underlying machine architecture supports it. For example, Intel machines have POPCNT (SSE4 Instruction set announced in 2006). Many <a href="http://developer.apple.com/documentation/developertools/gcc-4.0.1/gcc/Other-Builtins.html">GCC builtin functions</a> exist.</p><div class="header">Performance Measurements</div><pre class="brush: plain; gutter: true; title: ; wrap-lines: false; notranslate" title="">
                  No          Some        Heavy
            Optimization Optimization Optimization

  Precomp_16 52.94 Mcps   76.22 Mcps   80.58 Mcps
   Precomp_8 29.74 Mcps   49.83 Mcps   51.65 Mcps
    Parallel 19.30 Mcps   36.00 Mcps   38.55 Mcps
         MIT 16.93 Mcps   17.10 Mcps   31.82 Mcps
       Nifty 12.78 Mcps   16.07 Mcps   29.71 Mcps
      Sparse  5.70 Mcps   15.01 Mcps   14.62 Mcps
       Dense  5.30 Mcps   14.11 Mcps   14.56 Mcps
    Iterated  3.60 Mcps    3.84 Mcps    9.24 Mcps

  Mcps = Million counts per second
</pre><p>
Which of the several bit counting routines is the fastest? Results of speed trials on an i686 are summarized in the table on left. &#8220;No Optimization&#8221; was compiled with plain <em>gcc</em>. &#8220;Some Optimizations&#8221; was <em>gcc -O3</em>. &#8220;Heavy Optimizations&#8221; corresponds to <em>gcc -O3 -mcpu=i686 -march=i686 -fforce-addr -funroll-loops -frerun-cse-after-loop -frerun-loop-opt -malign-functions=4</em>.</p><p>
Thanks to <a href="mailto:seth@systemdetection.com">Seth Robertson</a> who suggested performing speed trials by extending <a href="http://infolab.stanford.edu/%7Emanku/bitcount/bitcount.c" class="broken_link" rel="nofollow">bitcount.c</a>. Seth also pointed me to MIT_Hackmem routine. Thanks to <a href="mailto:dennyrolling@hotmail.com"> Denny Gursky</a> who suggested the idea of Precompute_11bit. That would require three sums (11-bit, 11-bit and 10-bit precomputed counts). I then tried Precompute_16bit which turned out to be even faster.</p><p>
If you have niftier solutions up your sleeves, please <a href="mailto:gurmeet@gmail.com">send me an e-mail</a> or write comments below!</p><div class="header">Further Reading</div><ol><li><a href="http://www.inwap.com/pdp10/hbaker/hakmem/hakmem.html">HAKMEM</a> (bit counting is memo number 169), MIT AI Lab, Artificial Intelligence Memo No. 239, February 29, 1972.</li><li><a href="http://graphics.stanford.edu/~seander/bithacks.html">Bit Twiddling Hacks</a> by Sean Anderson at Stanford University.</li><li><a href="http://www-cs-faculty.stanford.edu/~knuth/fasc1a.ps.gz">Bitwise Tricks and Techniques</a> by Don Knuth (The Art of Computer Programming, Part IV).</li></ol></p></div>
<div class="puzzle-text"><b>Puzzle</b>: Three buckets have marbles. You are allowed to double the number of marbles in a bucket by borrowing from one of the other two buckets. Prove that it is possible to produce an empty bucket with a series of such operations.
</div><div class="puzzle-solution"><b>Solution</b>: <a href="http://math.dartmouth.edu/~pw/papers/algor.ps">Article by Peter Winkler</a>.
</div>
<div class="puzzle-text"><b>Puzzle</b>: Given k arbitrary points in a grid of size m by n, is it always possible to color them either red or black such that each row and each column is balanced? A row or column is said to be balanced if the difference in the number of red and black points in it is at most one.
</div><div class="puzzle-solution"><b>Solution</b> (click in box below):<div class="puzzle-solution-text">
Thanks to <a href="http://www.cs.sfu.ca/~imanh/">Iman Hajirasouliha</a> for sending me this elegant solution! Model the grid with a bipartite graph G[X, Y], a vertex in part X for each row and a vertex in part Y for each column. Add edges between x<sub>i</sub> and y<sub>j</sub> iff there is a point in the corresponding place. If G has a cycle (it must be an even cycle), we color the edges alternatively and remove those edges. When this procedure can no longer be applied, we must be left with a tree. At this point, we can solve the problem by induction on the number of edges as follows: remove e a leaf edge, color the remaining edges balanced, now look at the parent of that leaf and choose the right color for e to maintain the induction hypothesis.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: You are the chief guest at an auction, where an unknown number of horses will be revealed and auctioned, one after the other, randomly permuted. You are a connoisseur of horses, and can judge whether one horse is &#8216;better&#8217; than another. Being the chief guest, you have a one-time privilege of selecting a horse, after it is revealed, but before it gets auctioned off. You get to keep this horse for yourself. Your objective is to maximize the probability of selecting the best horse. One strategy is to pick the first horse. Can you do any better?
</div><div class="puzzle-solution"><b>Solution</b> (click in box below):<div class="puzzle-solution-text">
If we always select the first horse, the probability of success is 1/n where n is the number of horses. One strategy is to skip the first horse, then pick the first subsequent horse which is superior to the first horse. The probability that the first horse is the k-th best horse is 1/n. From among the remaining k-1 horses that are superior to this horse, the probability that the best comes before all others is 1/(k-1). So the overall probability is 1/n times 0 + 1 + 1/2 + 1/3 + 1/4 + &#8230; + 1/(n-1), which is approximately <img src='http://gurmeet.net/wp-content/latex/736/736ac5c1fc72a12f403faa65875be33f-ffffff-000000-0.png' alt='\frac{1}{n}\log (n-1)' title='\frac{1}{n}\log (n-1)' class='latex'/>. It is easy to show that if we follow the strategy of skipping the first h horses and then pick the first subsequent horse that is superior to all horses so far, the probability is maximised for h = n/e. Readers who spot a connection between this puzzle and finding a lifelong partner might be bemused with the article <a href="http://scholar.google.com/scholar?hl=en&amp;lr=&amp;q=searching+for+the+next+best+mate+by+todd">Searching for the Next Best Mate</a> by P M Todd, Lecture Notes in Mathematical Systems, 1997.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: There are two urns with one ball each. Each of subsequent n-2 balls is placed into one of these urns, with probability proportional to the number of balls already in that urn. What is the expected number of balls in the smaller sized urn?
</div><div class="puzzle-solution"><b>Solution</b> (click in box below):<div class="puzzle-solution-text">
To analyze the problem, let us first understand card shuffling as follows. We start with 1 card. The second card moves to one of two &#8220;slots&#8221; chosen uniformly at random: either to the left or to the right of the card already in the shuffle. In general, the i-th card chooses one out of i slots. When all n cards are in the shuffle, we have a random permutation of cards. Now, let us see how the process of populating two urns with n balls, as outlined in the puzzle, is related to card shuffling. Imagine that the first two balls are joined with a rod. These correspond to the first card in the pile. The third ball (which corresponds to the second card) has two choices. In general, the i-th ball corresponds to card i-1 and has i-1 choices. Now, the first card could be in any position uniformly at random. This means that all configurations with a balls in the first pile and b balls in the second pile, with a + b = n, are equally likely. In other words, the following configurations of balls in the two urns are all equally likely: (1, n-1), (2, n-2), (3, n-3), &#8230;, (n-3, 3), (n-2, 2) and (n-1, 1). It turns out that the average number of balls in the smaller urn is (n+1) / 4 if n is odd, and n<sup>2</sup> / (4n &#8211; 4) when n is even. As n increases, both quantities converge to n/4.
</div></div>
<div class="puzzle-text"><b>Puzzle</b>: An 8&#215;8 matrix contains zeros and ones. You may repeatedly choose any 3&#215;3 or 4&#215;4 block and flip all bits in the block (that is, convert zeros to ones, and ones to zeros). Can you remove all the ones in the matrix?
</div><div class="puzzle-solution"><b>Solution</b>: Given a multi-set of blocks and a starting configuration of the 8&#215;8 matrix, the final configuration of the matrix is the same, independent of the sequence in which the blocks in that multi-set are applied. In fact, we can reduce the multi-set to a set (with no repeated blocks) by recognizing that application of the same block twice has no effect.<p> There are 36 3&#215;3 blocks and 25 4&#215;4 blocks. The total number of sets of blocks is 2<sup>36</sup> times 2<sup>25</sup> = 2<sup>61</sup>. So starting with a matrix full of zeros, at most 2<sup>61</sup> distinct configurations out of 2<sup>64</sup> possible configurations of the matrix can be obtained. In other words, we may not be able to remove all the ones from the original matrix.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: A big rectangle is composed of smaller rectangles, each having an integral width or integral height or both. Prove that the big rectangle enjoys the same property.
</div><div class="puzzle-solution"><b>Solution</b>:<ol><li><a href="http://www.inference.phy.cam.ac.uk/mackay/abstracts/rectangles.html">Solution by David McKay</a>.</li><li><a href="http://www.cs.utexas.edu/users/EWD/ewd10xx/EWD1015.PDF">solution by E W Dijkstra</a>.</li><li><a href="http://www.cs.utexas.edu/users/EWD/ewd10xx/EWD1025.PDF">Solution by Ulrich Berger</a>.</li><li><a href="http://www.cut-the-knot.org/Curriculum/Algebra/IntRectRobinson.shtml">Solution at cut-the-knot</a>.</li></ol></div>
<div class="puzzle-text"><b>Puzzle</b>: A room has 100 boxes labeled 1 thru 100. The names of 100 prisoners have been placed in these boxes by the warden. The prisoners shall visit the room one by one. Each prisoner is allowed to inspect the contents of at most 50 boxes, one after the other and leave the room with no communication with other prisoners. If the prisoner discovers his own name in the boxes he inspects, he is released. The prisoners are allowed to collude before hand and devise a strategy to maximize the chances of releasing <em>each and every prisoner</em>. What is their strategy?
</div><div class="puzzle-solution"><b>Solution</b>: <a href="http://www.sciencenews.org/view/generic/id/7649/title/Puzzling_Names_in_Boxes">Here</a>.
</div>
<div class="puzzle-text"><b>Puzzle</b>: Consider a finite but arbitrary number of identical finite state machines (soldiers) arranged in a line. At time t = 0, each soldier is initialized to the quiescent (idle) state, except for the soldier on the far left (the general). The state of each soldier at each discrete time-step t &gt; 0 is dependent on its state and the state of its two neighbors at time t − 1 (except for the two soldiers at either end, each of whose state depends only on itself and its sole neighbor). In addition, if a soldier and its neighbors are in the quiescent state, then the soldier will remain quiescent at the next time-step. The problem is to define a finite set of states and state transition rules for the soldiers such that all soldiers enter a distinguished state (fire) at the same time and for the very first time.
</div><div class="puzzle-solution"><b>Solution</b>: <a href="http://en.wikipedia.org/wiki/Firing_squad_synchronization_problem">Wikipedia page</a>.
</div>
<div class="puzzle-text"><b>Puzzle</b>: A blind gnome and an evil goblin take turns to play a game. Four tumblers are placed at the corners of a square table. The initial configuration of the tumblers (facing up or facing down) is chosen by the evil goblin. When the blind gnome gets his turn, he is allowed to specify a subset of the four tumblers and flip them simultaneously. To be precise, he may choose &#8220;one tumbler&#8221;, &#8220;two diagonally opposites&#8221;, &#8220;two adjacent&#8221;, &#8220;three tumblers&#8221; or &#8220;four tumblers&#8221; lying in front of him, and flip them simultaneously. After flipping, if all four tumblers are upright, he wins the game! Otherwise, the game continues and the evil goblin is allowed to rotate the table by an amount of his choice. Can the blind gnome win the game with a <em>deterministic</em> strategy?
</div><div class="puzzle-solution"><b>Solution</b>: If there were only two cards, then &#8220;flip both&#8221; &mdash; &#8220;flip one&#8221; &mdash; &#8220;flip both&#8221; would ensure a victory for the blind gnome. For the case of four cards, let F denote &#8220;all four cards&#8221;, A denote &#8220;two adjacent cards&#8221;, D denote &#8220;two diagonally opposite cards&#8221;, O denote &#8220;one card&#8221;. Then the following 15-step sequence ensures victory for the blind gnome: F, D, F, A, F, D, F, O, F, D, F, A, F, D, F. The procedure can be generalized to 2^n cards. This problem is studied in detail by Ehrenborg and Skinner (see bibliography below); they call it &#8220;The Blind Bartender&#8217;s Problem&#8221;.<p>A variant of the above problem allows the blind gnome to first &#8220;touch&#8221; any t out of n tumblers on a polygonal table with n sides. Touching allows the gnome to deduce which of the t tumblers he touched are upright, and then to decide which of these t tumblers to flip. It was this variant that was originally published in Martin Gardner&#8217;s article in Feb 1979. For four tumblers, the blind gnome can win in five moves, as Gardner showed in his subsequent article in Mar 1979. The problem generated quite some interest. Two pairs of mathematicians independently proved that the blind gnome can win with a deterministic strategy if and only if t &ge; n(p-1)/p where p is the largest prime factor of n (Lewis and Willard in 1980; Laaser and Ramshaw 1981). These proofs are quite involved</p><p><b>Bibliography</b>:<br/>
&raquo; &#8220;About Rectangling Rectangles, Parodying Poe and Many Other Pleasing Problems&#8221;, Mathematical Games, Scientific American, Vol 240, No 2, Feb 1979, p 16-24.<br/>
&raquo; &#8220;On Altering the Past, Delaying the Future, and Other Ways of Tampering with Time&#8221;, Mathematical Games, Scientific American, Vol 240, No 3, Mar 1979, p 21-30.<br/>
&raquo; <a href="http://www.jstor.org/pss/2690109">The Rotating Table</a> by Ted Lewis and Stephen Willard, Mathematics Magazine, Vol. 53, No. 3, May 1980, p. 174-179.<br/>
&raquo; &#8220;Probing the Rotating Table&#8221; by William T Laaser and Lyle Ramshaw, The Mathematical Gardner (ed. David A Klarner), 1981, p 285-307.<br/>
&raquo; <a href="http://www.ms.uky.edu/~jrge/Papers/BBP.pdf">The Blind Bartender&#8217;s Problem (PDF)</a> by Richard Ehrenborg and Chris M. Skinner, Journal of Combinatorial Theory, Series A (70), 1995, p. 249-266.
</p></div>
<div class="puzzle-text"><b>Puzzle</b>: Using only a compass (and without a straight edge or a ruler), is it possible to identify (a) the midpoint of two points? (b) the center of a circle? (c) all four corners of a square, given two of them?
</div><div class="puzzle-solution"><b>Solution</b>: <a href="http://www.cut-the-knot.org/do_you_know/compass.shtml">Cut The Knot article</a> describes several such constructions.
</div>
<div class="puzzle-text"><b>Puzzle</b>: There are n+1 processors named 0, 1, &#8230;, n. Processor i has a counter C(i) that takes values in the range [0, n]. Its initial value is arbitrarily chosen from [0, n]. Processor 0 is said to be privileged if C(0) = C(n). Processor i, where i &gt; 0, is said to be privileged if C(i) &ne; C(i-1). At successive clock ticks, exactly one out of possibly several privileged processors is arbitrarily chosen and its counter is updated as follows: If processor 0 is chosen, we set C(0) &larr; (C(0) + 1) mod (n+1). Otherwise, we set C(i) &larr; C(i-1). Prove that after a bounded number of clock ticks, exactly one processor will be privileged. And that this will continue to hold forever.
</div><div class="puzzle-solution"><b>Solution</b>: <a href="http://infolab.stanford.edu/~manku/papers/96-dijkstra.pdf">A Simple Proof for O(n^2) Convergence of Dijkstra&#8217;s Self-Stabilization Protocol</a> by G S Manku, 1996 (unpublished).
</div>
<div class="puzzle-text"><b>Puzzle</b>: Design a 3-input 3-output logic circuit that negates the 3 signals. You have an infinite supply of AND and OR gates but only two NOT gates.
</div><div class="puzzle-solution"><b>Solution</b>: This is a challenging puzzle to solve. We will show that n NOT gates are sufficient to invert 2^n &#8211; 1 signals. Let the input signals be s0, s1, s2, s3, &#8230; We define 3 functions:<p>Q(k) is simply the OR of all combinations of k signals AND-ed together. For example, with 3 input signals:<br/>
Q(0) = 1<br/>
Q(1) = s0 +s1 + s2<br/>
Q(2) = s0.s1 + s1.s2 + s2.s0<br/>
Q(3) = s0.s1.s2.<br/>
Thus, for k &isin; [0, 2^n - 1], Q(k) = 1 iff at least k input signals are 1.</p><p>R(k, i) is obtained by removing all terms containing the i-th signal from Q(k). For example, for 3 input signals:<br/>
R(1, 0) = s1 + s2<br/>
R(1, 1) = s0 + s2<br/>
R(1, 2) = s0 + s1<br/>
R(2, 0) = s1.s2<br/>
R(2, 1) = s2.s0<br/>
R(2, 2) = s0.s1<br/>
Thus, for k &isin; [0, 2^n - 1), i &isin; [0, 2^n - 1), R(k, i) = 1 iff at least k input signals are 1, ignoring the i-th input signal.</p><p>Finally, let us define the third function: For k &isin; [0, 2^n - 1], P(k) = 1 iff exactly k input signals are 1. Assuming we manage to construct P&#8217;s, the inversion of the i-th signal is the expression P(0) + P(1).R(1, i) + P(2).R(2, i) + P(3).R(3, i) + &#8230;</p><p>Note that so far, we have not used any NOT gates.</p><p>Constructing P&#8217;s from Q&#8217;s is the heart of the puzzle &mdash; NOT gates are used for doing so. We explain the procedure with an example: we show how to invert seven signals with three NOT gates. Let us &#8220;visualize&#8221; the Q&#8217;s by writing them in short-hand as bit-masks: the i-th bit from the left denotes that exactly i signals are on, and concatenation of bits denotes the OR operation.</p><p>
Bitmask(7) = 00000001 (denotes Q(7))<br/>
Bitmask(6) = 00000011 (denotes Q(6))<br/>
Bitmask(5) = 00000111 (denotes Q(5))<br/>
Bitmask(4) = 00001111 (denotes Q(4))<br/>
Bitmask(3) = 00011111 (denotes Q(3))<br/>
Bitmask(2) = 00111111 (denotes Q(2))<br/>
Bitmask(1) = 01111111 (denotes Q(1))<br/>
Bitmask(0) = 11111111 (denotes Q(0))</p><p>Our goal is to produce the P&#8217;s, whose bit-masks are:</p><p>
00000001<br/>
00000010<br/>
00000100<br/>
00001000<br/>
00010000<br/>
00100000<br/>
01000000<br/>
10000000</p><p><b>Step 1</b>: Complement Bitmask(4) to get 11110000. Then replace Bitmask(3), Bitmask(2), Bitmask(1) and Bitmask(0) by AND-ing them with 11110000 to get:</p><p>
Bitmask(7) = 00000001<br/>
Bitmask(6) = 00000011<br/>
Bitmask(5) = 00000111<br/>
Bitmask(4) = 00001111<br/>
Bitmask(3) = 00010000<br/>
Bitmask(2) = 00110000<br/>
Bitmask(1) = 01110000<br/>
Bitmask(0) = 11110000</p><p><b>Step 2</b>: Complement the expression Bitmask(2) OR Bitmask(6) to get 11001100. Then replace Bitmask(5), Bitmask(4), Bitmask(1) and Bitmask(0) by AND-ing them with 11001100 to get:</p><p>
Bitmask(7) = 00000001<br/>
Bitmask(6) = 00000011<br/>
Bitmask(5) = 00000100<br/>
Bitmask(4) = 00001100<br/>
Bitmask(3) = 00010000<br/>
Bitmask(2) = 00110000<br/>
Bitmask(1) = 01000000<br/>
Bitmask(0) = 11000000</p><p><b>Step 3</b>: Complement the expression Bitmask(1) OR Bitmask(3) OR Bitmask(5) OR Bitmask(7) to get 10101010. Then replace Bitmask(6), Bitmask(4), Bitmask(2) and Bitmask(0) by AND-ing them with 10101010 to get:</p><p>
Bitmask(7) = 00000001<br/>
Bitmask(6) = 00000010<br/>
Bitmask(5) = 00000100<br/>
Bitmask(4) = 00001000<br/>
Bitmask(3) = 00010000<br/>
Bitmask(2) = 00100000<br/>
Bitmask(1) = 01000000<br/>
Bitmask(0) = 10000000</p><p>which are exactly the P&#8217;s that we wanted! One NOT gate was used in each step. The procedure can be generalized for higher powers of two.
</p></div>

</div>
</body>
</html>
